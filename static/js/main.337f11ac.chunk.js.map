{"version":3,"sources":["images/avatar-loader.gif","images/logo.svg","components/NavBar.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Loader.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/ConfirmationPopup.js","utils/api.js","components/Error.js","utils/userAuth.js","images/reg_confirm.svg","images/reg_failed.svg","components/InfoTooltip.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["NavBar","isLoggedIn","handleLoginStatus","userData","location","className","to","email","onClick","localStorage","removeItem","pathname","Header","props","useLocation","href","target","src","logo","alt","CurrentUserContext","React","createContext","Card","card","openImage","onCardLike","onDeleteCardClick","currentUser","useContext","isOwner","_id","owner","cardLikeButtonClassName","likes","some","i","type","aria-label","link","name","length","Loader","Main","onEditAvatar","style","backgroundImage","avatar","onEditProfile","about","onAddPlace","loadingSpinner","cards","map","onCardClick","Footer","PopupWithForm","isOpen","onClose","title","onSubmit","noValidate","children","submitName","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","id","minLength","maxLength","placeholder","value","onChange","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","reset","ref","AddPlacePopup","cardName","setCardName","cardLink","setCardLink","ImagePopup","ConfirmationPopup","onDeleteCard","api","options","this","_url","url","_headers","headers","_body","body","res","message","ok","json","Promise","reject","status","fetch","then","_onError","data","method","authorization","JSON","stringify","cardId","isLiked","console","log","fetchMethod","Error","BASE_URL","InfoTooltip","handleCloseButton","withRouter","setEmail","password","setPassword","infoTolltip","evt","catch","err","userAuth","handleTooltip","regConfirmImg","setTimeout","history","push","regFailedImg","autoComplete","statusText","setItem","token","handleUserData","ProtectedRoute","Component","component","setUserData","setIsLoggedIn","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpened","setIsEditAvatarPopupOpen","isDeleteCardPopupOpened","setIsDeleteCardPopupOpened","selectedCard","setSelectedCard","setCards","setLoadingSpinner","loadingImage","setCurrentUser","setInfoTooltip","closeAllPopups","getItem","tockenCheck","getUserInfo","getAllCards","Provider","exact","path","handleCardLikeStatus","newCard","state","c","editUserInfo","avatarLink","changeAvatar","addNewCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","querySelector"],"mappings":"yMAAe,MAA0B,0C,OCA1B,MAA0B,iC,cC0D1BA,MAxDf,YAAwE,IAAtDC,EAAqD,EAArDA,WAAYC,EAAyC,EAAzCA,kBAAmBC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,SA2BzD,OACE,oBAAIC,UAAU,SAAd,SAEIJ,EAEI,qCACE,oBAAII,UAAU,eAAd,SACE,cAAC,IAAD,CAAMC,GAAG,IAAID,UAAU,eAAvB,SACGF,EAASI,UAGd,oBAAIF,UAAU,eAAd,SACE,cAAC,IAAD,CAAMC,GAAG,IAAIE,QArC3B,WACEC,aAAaC,WAAW,SACxBR,KAmC2CG,UAAU,eAAzC,iDAOJ,mCAtCkB,YAAtBD,EAASO,SAET,oBAAIN,UAAU,eAAd,SACE,cAAC,IAAD,CAAMC,GAAG,UAAUD,UAAU,eAA7B,wCAOF,oBAAIA,UAAU,eAAd,SACE,cAAC,IAAD,CAAMC,GAAG,UAAUD,UAAU,eAA7B,uF,OCAKO,MAjBf,SAAgBC,GAEd,IAAMT,EAAWU,cAEjB,OACE,yBAAQT,UAAU,SAAlB,UACE,mBAAGU,KAAK,KAAKV,UAAU,oBAAoBW,OAAO,QAAlD,SACE,qBAAKC,IAAKC,EAAMC,IAAI,6CAAUd,UAAU,mBAE1C,cAAC,EAAD,2BACOQ,GADP,IAEET,SAAWA,SCbNgB,EAAqBC,IAAMC,gBC+CzBC,MA9Cf,YAAmE,IAAnDC,EAAkD,EAAlDA,KAAMC,EAA4C,EAA5CA,UAAWC,EAAiC,EAAjCA,WAAYC,EAAqB,EAArBA,kBAErCC,EAAcP,IAAMQ,WAAWT,GAc/BU,EAAUF,EAAYG,MAAQP,EAAKQ,MAAMD,IAEzCE,EADUT,EAAKU,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQH,EAAYG,OACE,qCAAlB,gBAE3C,OACE,0BAAS1B,UAAU,eAAnB,UACE,wBACEG,QAnBN,WACEmB,EAAkBH,IAmBda,KAAK,SACLhC,UAAS,+DACPyB,EAAU,GAAK,mBAEjBQ,aAAW,gBAEb,qBAAK9B,QAlBT,WACEiB,EAAUD,IAiBqBP,IAAMO,EAAKe,KAAOpB,IAAMK,EAAKgB,KAAOnC,UAAU,gBAC3E,oBAAIA,UAAU,eAAd,SAA+BmB,EAAKgB,OACpC,sBAAKnC,UAAU,qBAAf,UACE,wBACEG,QA1BR,WACEkB,EAAWF,IA0BLa,KAAK,SACLC,aAAW,OACXjC,UAAY4B,IAEd,qBAAK5B,UAAU,qEACf,sBAAMA,UAAU,wBAAhB,SAA0CmB,EAAKU,MAAMO,gBCrC9CC,MANf,WACE,OACE,qBAAKrC,UAAU,uCC0DJsC,MAvDf,SAAc9B,GAEZ,IAAMe,EAAcP,IAAMQ,WAAWT,GAErC,OACE,iCACE,0BAASf,UAAU,UAAnB,UACE,wBAAQG,QAASK,EAAM+B,aACrBvC,UAAU,gCACVwC,MAAO,CAAEC,gBAAgB,OAAD,OAAUlB,EAAYmB,OAAtB,MACxBT,aAAW,yCAEb,sBAAKjC,UAAU,qBAAf,UACE,sBAAKA,UAAU,sBAAf,UACE,oBAAIA,UAAU,iBAAiBiC,aAAW,qBAA1C,SAAkDV,EAAYY,OAC9D,wBACEhC,QAAUK,EAAMmC,cAChBX,KAAK,SACLC,aAAW,eACXjC,UAAU,qBAGd,mBAAGA,UAAU,oBAAoBiC,aAAW,mDAA5C,SAAyDV,EAAYqB,WAEvE,wBACEzC,QAAUK,EAAMqC,WAChBb,KAAK,SACLC,aAAW,UACXjC,UAAU,gCAId,yBAASA,UAAU,wBAAwBiC,aAAW,6CAAtD,SACE,qBAAKjC,UAAU,gBAAf,SAEIQ,EAAMsC,eACD,cAAC,EAAD,IACDtC,EAAMuC,MAAMC,KAAI,SAAC7B,GACjB,OACI,cAAC,EAAD,CAEEA,KAAOA,EACPC,UAAYZ,EAAMyC,YAClB5B,WAAab,EAAMa,WACnBC,kBAAoBd,EAAMc,mBAJpBH,EAAKO,gBCrClBwB,MARf,WACE,OACE,wBAAQlD,UAAU,SAAlB,SACE,mBAAGA,UAAU,oBAAb,uCCuBSmD,MA1Bf,SAAuB3C,GAErB,OACE,qBAAKR,UAAS,2BAAuBQ,EAAM2B,KAA7B,YAAuC3B,EAAM4C,OAAS,eAAiB,IAArF,SACE,sBAAKpD,UAAU,mBAAf,UACA,wBAAQG,QAAUK,EAAM6C,QAAUrB,KAAK,SAASC,aAAW,cACzDjC,UAAU,sDAEZ,oBAAIA,UAAU,oBAAd,SAAmCQ,EAAM8C,QACzC,uBACEC,SAAW/C,EAAM+C,SACjBpB,KAAI,qBAAgB3B,EAAM2B,MAC1BnC,UAAU,mBACVwD,YAAU,EAJZ,UAMIhD,EAAMiD,SACR,wBACEzB,KAAK,SACLG,KAAK,sBACLnC,UAAU,uCAHZ,SAGoDQ,EAAMkD,sBCuDnDC,MAtEf,YAA8D,IAAlCP,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,QAASO,EAAgB,EAAhBA,aAErCrC,EAAcP,IAAMQ,WAAWT,GAFsB,EAGnCC,IAAM6C,SAAS,IAHoB,mBAGpD1B,EAHoD,KAG9C2B,EAH8C,OAIrB9C,IAAM6C,SAAS,IAJM,mBAIpDE,EAJoD,KAIvCC,EAJuC,KA2B3D,OALAhD,IAAMiD,WAAU,WACdH,EAAQvC,EAAYY,MACpB6B,EAAezC,EAAYqB,SAC1B,CAACrB,IAGF,eAAC,EAAD,CACEY,KAAK,oBACLmB,MAAM,4HACNI,WAAW,yDACXN,OAASA,EACTC,QAAUA,EACVE,SApBJ,SAAsBW,GACpBA,EAAEC,iBACFP,EAAa,CACXzB,KAAMA,EACNS,MAAOmB,KAUT,UAQE,wBAAO/D,UAAU,mBAAjB,UACE,uBACEoE,GAAG,YACHpC,KAAK,OACLG,KAAK,aACLkC,UAAU,IACVC,UAAU,KACVC,YAAY,qBACZvE,UAAU,cACVwE,MAAQrC,EACRsC,SAxCR,SAAoBP,GAClBJ,EAAQI,EAAEvD,OAAO6D,QAwCXE,UAAQ,IAEV,sBAAM1E,UAAU,mCAElB,wBAAOA,UAAU,mBAAjB,UACE,uBACEoE,GAAG,mBACHpC,KAAK,OACLG,KAAK,oBACLkC,UAAU,IACVC,UAAU,MACVC,YAAY,8FACZvE,UAAU,cACVwE,MAAQT,EACRU,SAnDR,SAA2BP,GACzBF,EAAeE,EAAEvD,OAAO6D,QAmDlBE,UAAQ,IAEV,sBAAM1E,UAAU,8CC5BT2E,MArCf,YAA+D,IAApCvB,EAAmC,EAAnCA,OAAQC,EAA2B,EAA3BA,QAASuB,EAAkB,EAAlBA,eAEtCC,EAAY7D,IAAM8D,OAAO,IAU7B,OACE,cAAC,EAAD,CACE3C,KAAK,gBACLmB,MAAM,wFACNI,WAAW,yDACXN,OAASA,EACTC,QAAUA,EACVE,SAfJ,SAAsBW,GACpBA,EAAEC,iBACFS,EAAe,CACblC,OAAQmC,EAAUE,QAAQP,QAE5BN,EAAEvD,OAAOqE,SAIT,SAQE,wBAAOhF,UAAU,mBAAjB,UACE,uBACEoE,GAAG,cACHpC,KAAK,MACLG,KAAK,oBACLoC,YAAY,qGACZvE,UAAU,cACViF,IAAMJ,EACNH,UAAQ,IAEV,sBAAM1E,UAAU,wCCiCTkF,MAhEf,YAAyD,IAAhC9B,EAA+B,EAA/BA,OAAQC,EAAuB,EAAvBA,QAASR,EAAc,EAAdA,WAAc,EAEtB7B,IAAM6C,SAAS,IAFO,mBAE/CsB,EAF+C,KAErCC,EAFqC,OAGtBpE,IAAM6C,SAAS,IAHO,mBAG/CwB,EAH+C,KAGrCC,EAHqC,KAuBtD,OACE,eAAC,EAAD,CACEnD,KAAK,iBACLmB,MAAM,gEACNI,WAAW,6CACXN,OAASA,EACTC,QAAUA,EACVE,SAjBJ,SAA2BW,GACzBA,EAAEC,iBACFtB,EAAW,CACTV,KAAMgD,EACNjD,KAAMmD,IAERD,EAAY,IACZE,EAAY,KAIZ,UAQE,wBAAOtF,UAAU,mBAAjB,UACE,uBACEoE,GAAG,aACHpC,KAAK,OACLG,KAAK,aACLkC,UAAU,IACVC,UAAU,KACVC,YAAY,mDACZvE,UAAU,cACVyE,SApCR,SAAwBP,GACtBkB,EAAYlB,EAAEvD,OAAO6D,QAoCfA,MAAQW,GAAY,GACpBT,UAAQ,IAEV,sBAAM1E,UAAU,oCAElB,wBAAOA,UAAU,mBAAjB,UACE,uBACEoE,GAAG,YACHpC,KAAK,MACLG,KAAK,oBACLoC,YAAY,qGACZvE,UAAU,cACVyE,SA7CR,SAAwBP,GACtBoB,EAAYpB,EAAEvD,OAAO6D,QA6CfA,MAAQa,GAAY,GACpBX,UAAQ,IAEV,sBAAM1E,UAAU,uCCjDTuF,MAZf,SAAoB/E,GAChB,OACE,qBAAKR,UAAS,oCAA+BQ,EAAMW,KAAO,eAAiB,IAA3E,SACE,yBAAQnB,UAAU,gCAAlB,UACE,wBAAQG,QAAUK,EAAM6C,QAAUrB,KAAK,SAASC,aAAW,cAAcjC,UAAU,0CACnF,qBAAKY,IAAMJ,EAAMW,KAAKe,KAAOpB,IAAMN,EAAMW,KAAKgB,KAAOnC,UAAU,wBAC/D,4BAAYA,UAAU,qBAAtB,SAA6CQ,EAAMW,KAAKgB,aCenDqD,MAnBf,YAA+D,IAAlCpC,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,QAASoC,EAAgB,EAAhBA,aAO5C,OACE,cAAC,EAAD,CACEtD,KAAK,cACLmB,MAAM,2DACNI,WAAW,6CACXN,OAASA,EACTC,QAAUA,EACVE,SAZJ,SAAoBW,GAClBA,EAAEC,iBACFsB,Q,gBCoGWC,EAPH,IAnGZ,WACE,WAAYC,GAAU,oBACpBC,KAAKC,KAAOF,EAAQG,IACpBF,KAAKG,SAAWJ,EAAQK,QACxBJ,KAAKK,MAAQN,EAAQO,KAJzB,4CAOE,SAASC,EAAKC,GACZ,OAAGD,EAAIE,GACEF,EAAIG,OAENC,QAAQC,OAAO,UAAGJ,EAAH,MAAiBD,EAAIM,UAX/C,yBAcE,WAAe,IAAD,OACZ,OAAOC,MAAM,GAAD,OAAId,KAAKC,KAAT,YAAyB,CACnCG,QAASJ,KAAKG,WAEfY,MAAK,SAAAR,GAAG,OAAI,EAAKS,SAAST,EAAK,yKAlBpC,0BAqBE,SAAaU,GAAO,IAAD,OACjB,OAAOH,MAAM,GAAD,OAAId,KAAKC,KAAT,YAAyB,CACnCiB,OAAQ,QACRd,QAAS,CACPe,cAAenB,KAAKG,SAASgB,cAC7B,eAAgB,oBAElBb,KAAMc,KAAKC,UAAUJ,KAEpBF,MAAK,SAAAR,GAAG,OAAI,EAAKS,SAAST,EAAK,mQA9BtC,yBAiCE,WAAe,IAAD,OACZ,OAAOO,MAAM,GAAD,OAAId,KAAKC,KAAT,UAAuB,CAC/BG,QAASJ,KAAKG,WAEfY,MAAK,SAAAR,GAAG,OAAI,EAAKS,SAAST,EAAK,6MArCtC,wBAwCE,SAAWU,GAAO,IAAD,OACf,OAAOH,MAAM,GAAD,OAAId,KAAKC,KAAT,UAAuB,CACjCiB,OAAQ,OACRd,QAAS,CACPe,cAAenB,KAAKG,SAASgB,cAC7B,eAAgB,oBAElBb,KAAMc,KAAKC,UAAUJ,KAEtBF,MAAK,SAAAR,GAAG,OAAI,EAAKS,SAAST,EAAK,6MAjDpC,wBAoDE,SAAWe,GAAS,IAAD,OACjB,OAAOR,MAAM,GAAD,OAAId,KAAKC,KAAT,iBAAsBqB,GAAU,CAC1CJ,OAAQ,SACRd,QAASJ,KAAKG,WAEfY,MAAK,SAAAR,GAAG,OAAI,EAAKS,SAAST,EAAK,kKAzDpC,kCA4EE,SAAqBe,EAAQC,GAAU,IAAD,OACpCC,QAAQC,IAAI,mBACZ,IAAMC,EAAeH,EAAqB,MAAX,SAC/B,OAAOT,MAAM,GAAD,OAAId,KAAKC,KAAT,uBAA4BqB,GAAU,CAChDJ,OAAQQ,EACRtB,QAASJ,KAAKG,WAEfY,MAAK,SAAAR,GAAG,OAAI,EAAKS,SAAST,EAAK,sJAnFpC,0BAsFE,SAAaU,GAAO,IAAD,OACjB,OAAOH,MAAM,8DAA+D,CAC1EI,OAAQ,QACRd,QAAS,CACPe,cAAenB,KAAKG,SAASgB,cAC7B,eAAgB,oBAElBb,KAAMc,KAAKC,UAAUJ,KAEtBF,MAAK,SAAAR,GAAG,OAAI,EAAKS,SAAST,EAAK,oKA/FpC,KAmGY,CAAQ,CAClBL,IAAK,+CACLE,QAAS,CACPe,cAAe,0CChGJQ,MANf,WACE,OACE,oBAAIvH,UAAU,QAAd,4HCFSwH,EAAW,gCCAT,MAA0B,wCCA1B,MAA0B,uCCe1BC,MAff,YAAiE,IAA1CrE,EAAyC,EAAzCA,OAAQxC,EAAiC,EAAjCA,IAAK0C,EAA4B,EAA5BA,MAAOoE,EAAqB,EAArBA,kBACzC,OACE,qBAAK1H,UAAS,gBAAYoD,EAAS,eAAiB,IAApD,SACE,sBAAKpD,UAAU,uDAAf,UACE,wBAAQG,QAAUuH,EAAoB1F,KAAK,SAASC,aAAW,cAC7DjC,UAAU,4BAEZ,qBAAKA,UAAU,eAAeY,IAAMA,EAAME,IAAMwC,IAChD,oBAAItD,UAAU,oBAAd,SAAoCsD,UC6E7BqE,mBA7Ef,SAAkBnH,GAAQ,IAAD,EAEGqD,mBAAS,IAFZ,mBAEhB3D,EAFgB,KAET0H,EAFS,OAGS/D,mBAAS,IAHlB,mBAGhBgE,EAHgB,KAGNC,EAHM,KA6BvB,OACE,0BAAS9H,UAAU,OAAnB,UACE,oBAAIA,UAAU,cAAd,gFAEIQ,EAAMuH,YAAY3E,OACd,cAAC,EAAD,2BACO5C,EAAMuH,aADb,IAEEL,kBAAoBlH,EAAM6C,WAE5B,KAEN,uBAAMrD,UAAU,OAAOuD,SA3B7B,SAAsByE,GACpBA,EAAI7D,iBJpBgB,SAACjE,EAAO2H,GAC9B,OAAOnB,MAAM,GAAD,OAAIc,EAAJ,WAAuB,CACjCV,OAAQ,OACRd,QAAS,CACP,eAAgB,oBAElBE,KAAMc,KAAKC,UAAU,CAAE/G,QAAO2H,eAE7BlB,MAAK,SAAAR,GAAG,OAAIA,EAAIE,GAAKF,EAAIG,OAASC,QAAQC,OAAR,sBAA8BL,EAAIM,YACpEwB,OAAM,SAAAC,GAAG,OAAId,QAAQC,IAAIa,MIY1BC,CAAkBjI,EAAO2H,GACtBlB,MAAK,SAAAR,GACDA,GACD3F,EAAM4H,eAAc,EAAMC,EAAe,yKACzCC,YAAW,WACT9H,EAAM6C,UACN7C,EAAM+H,QAAQC,KAAK,aAClB,MAEHhI,EAAM4H,eAAc,EAAMK,EAAc,2MAgB1C,UACE,wBAAOzI,UAAU,mBAAjB,UACE,uBACEA,UAAU,sCAGVuE,YAAY,QACZE,SA1CZ,SAAqBuD,GACnBJ,EAASI,EAAIrH,OAAO6D,UA2CZ,sBAAMxE,UAAU,oCAGlB,wBAAOA,UAAU,mBAAjB,UACE,uBACEA,UAAU,iEAIVuE,YAAY,uCACZvC,KAAK,WACL0G,aAAa,OACbjE,SApDZ,SAAwBuD,GACtBF,EAAYE,EAAIrH,OAAO6D,UAqDf,sBAAMxE,UAAU,uCAGlB,wBACEA,UAAU,sCADZ,6HAGJ,uBAAMA,UAAU,qBAAhB,qIAEE,cAAC,IAAD,CAAMC,GAAG,UAAUD,UAAU,aAA7B,qDCFO2H,mBAvEf,SAAenH,GAAQ,IAAD,EAEMqD,mBAAS,IAFf,mBAEb3D,EAFa,KAEN0H,EAFM,OAGY/D,mBAAS,IAHrB,mBAGbgE,EAHa,KAGHC,EAHG,KA0BpB,OACE,0BAAS9H,UAAU,OAAnB,UACE,oBAAIA,UAAU,cAAd,sCAEIQ,EAAMuH,YAAY3E,OACd,cAAC,EAAD,2BACO5C,EAAMuH,aADb,IAEEL,kBAAoBlH,EAAM6C,WAE5B,KAEN,uBAAMrD,UAAU,OAAOuD,SAxB7B,SAAsByE,GACpBA,EAAI7D,iBLNqB,SAACjE,EAAO2H,GACnC,OAAOnB,MAAM,GAAD,OAAIc,EAAJ,WAAuB,CACjCV,OAAQ,OACRd,QAAS,CACP,eAAgB,oBAElBE,KAAMc,KAAKC,UAAU,CAAE/G,QAAO2H,eAE7BlB,MAAK,SAAAR,GAAG,OAAIA,EAAIE,GAAKF,EAAIG,OAASC,QAAQC,OAAR,sBAA8BL,EAAIwC,gBACpEhC,MAAK,SAACE,GACLzG,aAAawI,QAAQ,QAAS/B,EAAKgC,UKHrCV,CAAuBjI,EAAO2H,GAC3BlB,MAAK,WACJnG,EAAMX,oBACNW,EAAMsI,eAAe,CAAE5I,MAAOA,IAC9BM,EAAM+H,QAAQC,KAAK,QAEpBP,OAAM,WACLzH,EAAM4H,eAAc,EAAMK,EAAc,2MAexC,UAEE,wBAAOzI,UAAU,mBAAjB,UACE,uBACEA,UAAU,sCAGVuE,YAAY,QACZE,SAxCZ,SAAqBuD,GACnBJ,EAASI,EAAIrH,OAAO6D,UAyCZ,sBAAMxE,UAAU,uCAGlB,wBAAOA,UAAU,mBAAjB,UACE,uBACEA,UAAU,iEAIVuE,YAAY,uCACZvC,KAAK,WACL0G,aAAa,OACbjE,SAlDZ,SAAwBuD,GACtBF,EAAYE,EAAIrH,OAAO6D,UAmDf,sBAAMxE,UAAU,uCAGlB,wBACEA,UAAU,sCADZ,qD,QCtDK+I,MAdf,YAA6D,IAAxBC,EAAuB,EAAlCC,UAAyBzI,EAAS,6BAC1D,OAEE,cAAC,IAAD,UAEI,kBAAMA,EAAMZ,WACR,cAACoJ,EAAD,eAAgBxI,IAChB,cAAC,IAAD,CAAUP,GAAG,iBCyQV0H,mBA9Pf,SAAanH,GAAQ,IAAD,EAEcQ,IAAM6C,SAAS,CAC7C3D,MAAO,OAHS,mBAEXJ,EAFW,KAEDoJ,EAFC,OAMkBlI,IAAM6C,UAAS,GANjC,mBAMXjE,EANW,KAMCuJ,EAND,OAO0CnI,IAAM6C,UAAS,GAPzD,mBAOXuF,EAPW,KAOaC,EAPb,OAQoCrI,IAAM6C,UAAS,GARnD,mBAQXyF,EARW,KAQUC,EARV,OAS0CvI,IAAM6C,UAAS,GATzD,mBASX2F,EATW,KAScC,EATd,OAU4CzI,IAAM6C,UAAS,GAV3D,mBAUX6F,EAVW,KAUcC,EAVd,OAWsB3I,IAAM6C,UAAS,GAXrC,mBAWX+F,EAXW,KAWGC,EAXH,OAYQ7I,IAAM6C,SAAS,IAZvB,mBAYXd,EAZW,KAYJ+G,EAZI,QAa0B9I,IAAM6C,UAAS,GAbzC,qBAaXf,GAbW,MAaKiH,GAbL,SAcoB/I,IAAM6C,SAAS,CACnDnB,OAAQsH,EACR7H,KAAM,mDACNS,MAAO,qDAjBS,qBAcXrB,GAdW,MAcE0I,GAdF,SAmBoBjJ,IAAM6C,SAAS,CACnDT,QAAQ,EACRxC,IAAK,GACL0C,MAAO,KAtBS,qBAmBXyE,GAnBW,MAmBEmC,GAnBF,MA6ClB,SAAS9B,GAAchF,EAAQxC,EAAK0C,GAClC4G,GAAe,CACb9G,SACAxC,MACA0C,UAIJ,SAASzD,KACPsJ,GAAevJ,GACfwH,QAAQC,IAAI,wBAAyBzH,GAqCvC,SAASuK,KACPd,GAA0B,GAC1BE,GAAuB,GACvBE,GAAyB,GACzBE,GAA2B,GAC3BE,GAAgB,GAChBK,GAAe,CACb9G,QAAQ,IA4DZ,OAtIApC,IAAMiD,WAAU,YAsHhB,WACE,GAAG7D,aAAagK,QAAQ,SAAU,CAChC,IAAMvB,EAAQzI,aAAagK,QAAQ,SAChCvB,GP1IiB,SAACA,GACzB,OAAOnC,MAAM,GAAD,OAAIc,EAAJ,aAAyB,CACnCV,OAAQ,MACRd,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2B6C,MAG9BlC,MAAK,SAAAR,GAAG,OAAIA,EAAIE,GAAKF,EAAIG,OAASC,QAAQC,OAAR,qBAA6BL,EAAIwC,gBACnEV,OAAM,SAAAC,GAAG,OAAId,QAAQC,IAAIa,MOkIpBC,CAAoBU,GAAOlC,MAAK,SAACR,GAC5BA,IACDgD,GAAc,GACd/B,QAAQC,IAAIlB,EAAIU,KAAK3G,OACrBgJ,EAAY,CAAChJ,MAAOiG,EAAIU,KAAK3G,QAC7BM,EAAM+H,QAAQC,KAAK,UA9H3B6B,GACA3E,EAAI4E,cACD3D,MAAK,SAAAE,GAAI,OAAIoD,GAAepD,MAC5BoB,OAAM,SAAAC,GAAG,OAAId,QAAQC,IAAI,0BAA2Ba,QACtD,IAEHlH,IAAMiD,WAAU,WACdyB,EAAI6E,cACD5D,MAAK,SAAAE,GACJiD,EAASjD,GACTkD,IAAkB,MAEnB9B,OAAM,SAAAC,GAAG,OAAId,QAAQC,IAAI,qBAAsBa,QACjD,IAyHD,eAACnH,EAAmByJ,SAApB,CAA6BhG,MAAQjD,GAArC,UAEE,sBAAKvB,UAAU,OAAf,UAEE,cAAC,EAAD,CACEJ,WAAaA,EACbC,kBAAoBA,GACpBC,SAAWA,IAGX,eAAC,IAAD,WAEE,cAAC,EAAD,CACE2K,OAAK,EAACC,KAAK,IACX9K,WAAaA,EACbmD,MAAQA,EACRD,eAAiBA,GACjBH,cAvHZ,WACE0G,GAA2BD,IAuHjBvG,WApHZ,WACE0G,GAAwBD,IAoHd/G,aAjHZ,WACEkH,GAA0BD,IAiHhBvG,YA3IY,SAAC9B,GACvB0I,EAAgB1I,IA2INE,WA5DZ,SAAwBF,GACtB,IAAMgG,EAAUhG,EAAKU,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQH,GAAYG,OAC3DgE,EAAIiF,qBAAqBxJ,EAAKO,KAAMyF,GACjCR,MAAK,SAACiE,GACLd,GAAS,SAAAe,GACP,OAAOA,EAAM7H,KAAI,SAAC8H,GAChB,OAAOA,EAAEpJ,MAAQP,EAAKO,IAAMkJ,EAAUE,WAI3C7C,OAAM,SAAAC,GAAG,OAAId,QAAQC,IAAI,8BAA+Ba,OAmDjD5G,kBAhHZ,SAA+BH,GAC7BwI,EAA2BxI,IAgHjBwI,2BAA6BA,EAC7BV,UAAY3G,IAGd,cAAC,IAAD,CAAOoI,KAAK,UAAZ,SACE,cAAC,EAAD,CACEtC,cAAgBA,GAChBL,YAAcA,GACd1E,QAAU8G,OAId,cAAC,IAAD,CAAOO,KAAK,UAAZ,SAEI9K,EACI,cAAC,IAAD,CAAUK,GAAG,MACb,cAAC,EAAD,CACEJ,kBAAoBA,GACpBuI,cAAgBA,GAChBU,eAAiBI,EACjBnB,YAAcA,GACd1E,QAAU8G,OAKpB,cAAC,IAAD,CAAOO,KAAK,IAAZ,SACE,cAAC,EAAD,SAON,cAAC,EAAD,OAIF,cAAC,EAAD,CACEvJ,KAAOyI,EACPvG,QAAU8G,KAGZ,cAAC,EAAD,CACE/G,OAASgG,EACT/F,QAAU8G,GACVvG,aA3JN,SAA0B9D,GACxB4F,EAAIqF,aAAajL,GACd6G,MAAK,SAAAE,GACJoD,GAAepD,GACfsD,QAEDlC,OAAM,SAAAC,GAAG,OAAId,QAAQC,IAAI,6BAA8Ba,SAwJxD,cAAC,EAAD,CACE9E,OAASoG,EACTnG,QAAU8G,GACVvF,eAxJN,SAA4BoG,GAC1BtF,EAAIuF,aAAaD,GACdrE,MAAK,SAAAE,GACJoD,GAAepD,GACfsD,QAEDlC,OAAM,SAAAC,GAAG,OAAId,QAAQC,IAAI,iCAAkCa,SAqJ5D,cAAC,EAAD,CACE9E,OAASkG,EACTjG,QAAU8G,GACVtH,WA3GN,SAA8B1B,GAC5BuE,EAAIwF,WAAW/J,GACZwF,MAAK,SAAAiE,GACJd,EAAS,CAACc,GAAF,mBAAc7H,KACtBoH,QAEDlC,OAAM,SAAAC,GAAG,OAAId,QAAQC,IAAI,4BAA6Ba,SAwGvD,cAAC,EAAD,CACE9E,OAASsG,EACTrG,QAAU8G,GACV1E,aAlIN,WAbA,IAA6BtE,IAcPuI,EAbpBhE,EAAIyF,WAAWhK,EAAKO,KACjBiF,MAAK,WACJmD,GAAS,SAAAe,GACP,OAAOA,EAAMO,QAAO,SAACN,GACnB,OAAOA,EAAEpJ,MAAQP,EAAKO,IAAM,KAAOoJ,QAGvCX,QAEDlC,OAAM,SAAAC,GAAG,OAAId,QAAQC,IAAI,8BAA+Ba,eC1HhDmD,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB5E,MAAK,YAAkD,IAA/C6E,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,cAAc,UAMzBZ,M","file":"static/js/main.337f11ac.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/avatar-loader.7741db8b.gif\";","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import { Link } from \"react-router-dom\";\n\nfunction NavBar({ isLoggedIn, handleLoginStatus, userData, location }) {\n\n  function signOut() {\n    localStorage.removeItem('token');\n    handleLoginStatus();\n  }\n\n  function showCurrentLink() {\n    if (location.pathname === '/signup') {\n      return (\n        <li className=\"navbar__item\">\n          <Link to=\"/signin\" className=\"navbar__link\">\n            Вход\n          </Link>\n        </li>\n      );\n    } else {\n      return (\n        <li className=\"navbar__item\">\n          <Link to=\"/signup\" className=\"navbar__link\">\n            Регистрация\n          </Link>\n        </li>\n      );\n    }\n  }\n\n  return (\n    <ul className=\"navbar\">\n      {\n        isLoggedIn\n          ? (\n            <>\n              <li className=\"navbar__item\">\n                <Link to=\"#\" className=\"navbar__link\">\n                  {userData.email}\n                </Link>\n              </li>\n              <li className=\"navbar__item\">\n                <Link to=\"/\" onClick={signOut} className=\"navbar__link\">\n                  Выйти\n                </Link>\n              </li>\n            </>\n          )\n          : (\n            <>\n              { showCurrentLink()}\n            </>\n          )\n      }\n\n    </ul>\n  );\n}\n\nexport default NavBar;\n","import logo from '../images/logo.svg';\nimport NavBar from './NavBar';\nimport { useLocation } from 'react-router-dom';\n\nfunction Header(props) {\n\n  const location = useLocation();\n\n  return (\n    <header className=\"header\">\n      <a href=\"./\" className=\"header__logo-link\" target=\"_self\">\n        <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\n      </a>\n      <NavBar \n        { ...props }\n        location={ location }\n      />  \n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, openImage, onCardLike, onDeleteCardClick }) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function openDeletePopup() {\n    onDeleteCardClick(card);\n  }\n\n  function handleCardLike() {\n    onCardLike(card);\n  }\n  \n  function handlePopup() {\n    openImage(card);\n  }\n\n  const isOwner = currentUser._id === card.owner._id;\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = !isLiked ? 'galery__heart' : 'galery__heart galery__heart_active';\n\n  return (\n    <article className=\"galery__card\">\n      <button \n        onClick={ openDeletePopup }\n        type=\"button\" \n        className={`galery__delete-card-button galery__delete-card-button${\n          isOwner ? '' : '_visible_hidden'\n        }`} \n        aria-label=\"Delete_card\"\n      ></button>\n      <img onClick={ handlePopup } src={ card.link } alt={ card.name } className=\"galery__img\" /> \n      <h2 className=\"galery__text\">{ card.name }</h2>\n      <div className=\"galery__likes-wrap\">\n        <button \n          onClick={ handleCardLike }\n          type=\"button\" \n          aria-label=\"Like\" \n          className={ cardLikeButtonClassName }\n        ></button>\n        <div className=\"galery__heart galery__heart_loading galery__heart_visible_hidden\"></div>\n        <span className=\"galery__likes-counter\">{ card.likes.length }</span>\n      </div> \n    </article>\n  );\n}\n\nexport default Card;","function Loader() {\n  return (\n    <div className=\"galery__card galery__card_loading\"></div>\n  );\n}\n\nexport default Loader;\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Card from './Card';\nimport Loader from './Loader';\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <button onClick={props.onEditAvatar}\n          className=\"profile__image profile__image\"\n          style={{ backgroundImage: `url(${ currentUser.avatar })` }}\n          aria-label=\"Аватар\">\n        </button>\n        <div className=\"profile__text-wrap\">\n          <div className=\"profile__title-wrap\">\n            <h1 className=\"profile__title\" aria-label=\"Имя\">{ currentUser.name }</h1>\n            <button\n              onClick={ props.onEditProfile }\n              type=\"button\"\n              aria-label=\"Edit_profile\"\n              className=\"profile__edit\">\n            </button>\n          </div>\n          <p className=\"profile__subtitle\" aria-label=\"Описание\">{ currentUser.about }</p>\n        </div>\n        <button\n          onClick={ props.onAddPlace }\n          type=\"button\"\n          aria-label=\"Add_img\"\n          className=\"profile__add-card-button\">\n        </button>\n      </section>\n\n      <section className=\"galery galery_margins\" aria-label=\"Галерея\">\n        <div className=\"galery__cards\">\n          {\n            props.loadingSpinner \n              ? (<Loader />)\n              : props.cards.map((card) => {\n                return (\n                    <Card \n                      key={ card._id }\n                      card={ card }\n                      openImage={ props.onCardClick }\n                      onCardLike={ props.onCardLike }\n                      onDeleteCardClick={ props.onDeleteCardClick }\n                    />\n                );\n              })\n          }\n        </div>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;","function PopupWithForm(props) {\n\n  return (\n    <div className={`popup popup_type_${ props.name } ${ props.isOpen ? 'popup_opened' : '' }`} >\n      <div className=\"popup__container\">\n      <button onClick={ props.onClose } type=\"button\" aria-label=\"Close_popup\" \n        className=\"popup__exit-button exit exit_button_profile-popup\">\n      </button>\n      <h3 className=\"popup__form-title\">{props.title}</h3>\n      <form \n        onSubmit={ props.onSubmit }\n        name={`popup_form_${props.name}`} \n        className=\"form popup__form\" \n        noValidate\n      >\n        { props.children }\n        <button \n          type=\"submit\" \n          name=\"submit-edit-profile\" \n          className=\"form__submit form__submit_type_popup\">{props.submitName}</button>\n      </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  \n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  function handleName(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name: name,\n      about: description\n    });\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm \n      name=\"profile-edit-form\" \n      title=\"Редактировать профиль\" \n      submitName=\"Сохранить\"\n      isOpen={ isOpen }\n      onClose={ onClose }\n      onSubmit={ handleSubmit }\n    >\n      <label className=\"form__form-field\">\n        <input \n          id=\"user-name\" \n          type=\"text\" \n          name=\"popup_name\" \n          minLength=\"2\" \n          maxLength=\"40\" \n          placeholder=\"Имя\"\n          className=\"form__input\" \n          value={ name }\n          onChange={ handleName }\n          required \n        />\n        <span className=\"user-name-error form__error\"></span>\n      </label>\n      <label className=\"form__form-field\">\n        <input \n          id=\"user-description\" \n          type=\"text\" \n          name=\"popup_description\" \n          minLength=\"2\" \n          maxLength=\"200\"\n          placeholder=\"Род деятельности\" \n          className=\"form__input\" \n          value={ description }\n          onChange={ handleDescription }\n          required \n        />\n        <span className=\"user-description-error form__error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n\n  let avatarRef = React.useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n    e.target.reset();\n  }\n\n  return (\n    <PopupWithForm \n      name=\"change-avatar\" \n      title=\"Обновить аватар\" \n      submitName=\"Сохранить\"\n      isOpen={ isOpen }\n      onClose={ onClose }\n      onSubmit={ handleSubmit }\n    >\n      <label className=\"form__form-field\">\n        <input \n          id=\"user-avatar\" \n          type=\"url\" \n          name=\"popup_description\" \n          placeholder=\"Ссылка на картинку\"\n          className=\"form__input\" \n          ref={ avatarRef }\n          required \n        />\n        <span className=\"user-avatar-error form__error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n\n  const [cardName, setCardName] = React.useState('');\n  const [cardLink, setCardLink] = React.useState('');\n\n  function handleCardName(e) {\n    setCardName(e.target.value);\n  }\n\n  function handleCardLink(e) {\n    setCardLink(e.target.value);\n  }\n\n  function handleSubmitClick(e) {\n    e.preventDefault();\n    onAddPlace({\n      name: cardName,\n      link: cardLink\n    });\n    setCardName('');\n    setCardLink('');\n  }\n\n  return (\n    <PopupWithForm \n      name=\"cards-add-form\" \n      title=\"Новое место\" \n      submitName=\"Создать\"\n      isOpen={ isOpen }\n      onClose={ onClose }\n      onSubmit={ handleSubmitClick }\n    >\n      <label className=\"form__form-field\">\n        <input \n          id=\"place-name\" \n          type=\"text\" \n          name=\"popup_name\" \n          minLength=\"2\" \n          maxLength=\"30\" \n          placeholder=\"Название\"\n          className=\"form__input\" \n          onChange={ handleCardName }\n          value={ cardName || '' }\n          required \n        />\n        <span className=\"place-name-error form__error\"></span>\n      </label>\n      <label className=\"form__form-field\">\n        <input \n          id=\"place-url\" \n          type=\"url\" \n          name=\"popup_description\" \n          placeholder=\"Ссылка на картинку\"\n          className=\"form__input\" \n          onChange={ handleCardLink }\n          value={ cardLink || '' }\n          required \n        />\n        <span className=\"place-url-error form__error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","function ImagePopup(props) {\n    return(\n      <div className={`popup galery galery_popup ${props.card ? 'popup_opened' : ''}`}>\n        <figure className=\"galery__popup-image-container\">\n          <button onClick={ props.onClose } type=\"button\" aria-label=\"Close_popup\" className=\"popup__exit-button galery__popup-exit\"></button>\n          <img src={ props.card.link } alt={ props.card.name } className=\"galery__fulsize-img\" />\n          <figcaption className=\"galery__popup-text\">{ props.card.name }</figcaption>\n        </figure>\n      </div>\n    );\n}\n\nexport default ImagePopup;\n","import PopupWithForm from './PopupWithForm';\n\nfunction ConfirmationPopup({ isOpen, onClose, onDeleteCard }) {\n\n  function deleteCard(e) {\n    e.preventDefault();\n    onDeleteCard();\n  }\n\n  return (\n    <PopupWithForm \n      name=\"card-delete\" \n      title=\"Вы уверены?\" \n      submitName=\"Удалить\" \n      isOpen={ isOpen }\n      onClose={ onClose }\n      onSubmit={ deleteCard }\n    />\n  );\n}\n\nexport default ConfirmationPopup;\n","export class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n    this._body = options.body;\n  }\n\n  _onError(res, message) {\n    if(res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`${message}: ` + res.status);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}users/me`, {\n      headers: this._headers\n    })\n    .then(res => this._onError(res, 'Ошибка при обращении к серверу'))\n  }\n\n  editUserInfo(data) {\n    return fetch(`${this._url}users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._headers.authorization,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n      })\n      .then(res => this._onError(res, 'Ошибка при редактировании данных пользователя'))\n  }\n\n  getAllCards() {\n    return fetch(`${this._url}cards/`, {\n        headers: this._headers\n      })\n      .then(res => this._onError(res, 'Ошибка при получении данных карточек'))\n  }\n\n  addNewCard(data) {\n    return fetch(`${this._url}cards/`, {\n      method: 'POST',\n      headers: {\n        authorization: this._headers.authorization,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    })\n    .then(res => this._onError(res, 'Ошибка при добавлении новой карточки'))\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then(res => this._onError(res, 'Ошибка при удалении картчоки'))\n  }\n\n  // addLike(cardId) {\n  //   return fetch(`${this._url}cards/likes/${cardId}`, {\n  //     method: 'PUT',\n  //     headers: this._headers\n  //   })\n  //   .then(res => this._onError(res, 'Ошибка при обработке лайка'))\n  // }\n\n  // removeLike(cardId) {\n  //   return fetch(`${this._url}cards/likes/${cardId}`, {\n  //     method: 'DELETE',\n  //     headers: this._headers\n  //   })\n  //   .then(res => this._onError(res, 'Ошибка при обработке лайка'))\n  // }\n\n  handleCardLikeStatus(cardId, isLiked) {\n    console.log('hello from API!');\n    const fetchMethod = !isLiked ? 'DELETE' : 'PUT';\n    return fetch(`${this._url}cards/likes/${cardId}`, {\n      method: fetchMethod,\n      headers: this._headers\n    })\n    .then(res => this._onError(res, 'Ошибка при обработке лайка'))\n  }\n\n  changeAvatar(data) {\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-20/users/me/avatar', {\n      method: 'PATCH',\n      headers: {\n        authorization: this._headers.authorization,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    })\n    .then(res => this._onError(res, 'Не удалось изменить аватарку'))\n  }\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-20/',\n  headers: {\n    authorization: '036c4f02-47a4-4c62-a975-bbce507f165f'\n  }\n})\n\nexport default api;","function Error() {\n  return (\n    <h2 className=\"error\">404 Страница не найдена.</h2>\n  );\n}\n\nexport default Error;\n","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then(res => res.ok ? res.json() : Promise.reject(`### ERRROR: ${res.status}`))\n    .catch(err => console.log(err))\n}\n\nexport const authorization = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then(res => res.ok ? res.json() : Promise.reject(`#### ERROR: ${res.statusText}`))\n    .then((data) => {\n      localStorage.setItem('token', data.token);\n    })\n}\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      \"Content-type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    }\n  })\n  .then(res => res.ok ? res.json() : Promise.reject(`### ERROR: ${res.statusText}`))\n  .catch(err => console.log(err));\n}","export default __webpack_public_path__ + \"static/media/reg_confirm.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/reg_failed.df8eddf6.svg\";","function InfoTooltip({ isOpen, src, title, handleCloseButton }) {\n  return (\n    <div className={`popup ${ isOpen ? 'popup_opened' : '' }`} >\n      <div className=\"popup__container popup__container_place_registration\">\n        <button onClick={ handleCloseButton } type=\"button\" aria-label=\"Close_popup\" \n          className=\"popup__exit-button exit\">\n        </button>\n        <img className=\"popup__image\" src={ src } alt={ title } />\n        <h3 className=\"popup__form-title\">{ title }</h3>\n      </div>\n      \n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","import React, { useState } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport * as userAuth from \"../utils/userAuth\";\nimport regConfirmImg from \"../images/reg_confirm.svg\";\nimport regFailedImg from \"../images/reg_failed.svg\";\nimport InfoTooltip from \"./InfoTooltip\";\n\n\nfunction Register(props) {\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleEmail(evt) {\n    setEmail(evt.target.value);\n  }\n\n  function handlePassword(evt) {\n    setPassword(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    userAuth.register(email, password)\n      .then(res => {\n        if(res) {\n          props.handleTooltip(true, regConfirmImg, \"Вы успешно зарегистрировались!\");\n          setTimeout(() => {\n            props.onClose();\n            props.history.push('/signin');\n          }, 2000);\n        } else {\n          props.handleTooltip(true, regFailedImg, \"Что-то пошло не так! Попробуйте ещё раз.\")\n        }\n      });\n  }\n\n  return (\n    <section className=\"sign\">\n      <h3 className=\"sign__title\">Регистрация</h3>\n        {\n          props.infoTolltip.isOpen \n            ? <InfoTooltip \n                { ...props.infoTolltip }\n                handleCloseButton={ props.onClose }\n              />\n            : null\n        }\n        <form className=\"form\" onSubmit={ handleSubmit }>\n          <label className=\"form__form-field\">\n            <input\n              className=\"\n                form__input \n                form__input_type_sign\"\n              placeholder=\"Email\"\n              onChange={ handleEmail }\n            />\n            <span className=\"email-name-error form__error\"></span>\n          </label>\n\n          <label className=\"form__form-field\">\n            <input\n              className=\"\n                form__input \n                form__input_type_sign \n                form__input_type_password\"\n              placeholder=\"Пароль\"\n              type=\"password\"\n              autoComplete=\"none\"\n              onChange={ handlePassword }\n            />\n            <span className=\"password-name-error form__error\"></span>\n          </label>\n\n          <button\n            className=\"form__submit form__submit_type_sign\">Зарегистрироваться</button>\n        </form>\n      <span className=\"sign__reg-question\">\n        Уже зарегистрированы?&nbsp;\n        <Link to=\"/signin\" className=\"sign__link\">Войти</Link>\n      </span>\n    </section>\n  );\n}\n\nexport default withRouter(Register);\n","import React, { useState } from \"react\";\nimport * as userAuth from '../utils/userAuth';\nimport { withRouter } from \"react-router\";\nimport regFailedImg from \"../images/reg_failed.svg\";\nimport InfoTooltip from \"./InfoTooltip\";\n\nfunction Login(props) {\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleEmail(evt) {\n    setEmail(evt.target.value);\n  }\n\n  function handlePassword(evt) {\n    setPassword(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    userAuth.authorization(email, password)\n      .then(() => {\n        props.handleLoginStatus();\n        props.handleUserData({ email: email });\n        props.history.push('/');\n      })\n      .catch(() => {\n        props.handleTooltip(true, regFailedImg, \"Что-то пошло не так! Попробуйте ещё раз.\")\n      })\n  }\n\n  return (\n    <section className=\"sign\">\n      <h3 className=\"sign__title\">Вход</h3>\n      {\n          props.infoTolltip.isOpen \n            ? <InfoTooltip \n                { ...props.infoTolltip }\n                handleCloseButton={ props.onClose }\n              />\n            : null\n        }\n        <form className=\"form\" onSubmit={ handleSubmit }>\n\n          <label className=\"form__form-field\">\n            <input\n              className=\"\n                form__input \n                form__input_type_sign\"\n              placeholder=\"Email\"\n              onChange={ handleEmail }\n            />\n            <span className=\"username-name-error form__error\"></span>\n          </label>\n\n          <label className=\"form__form-field\">\n            <input\n              className=\"\n                form__input \n                form__input_type_sign \n                form__input_type_password\"\n              placeholder=\"Пароль\"\n              type=\"password\"\n              autoComplete=\"none\"\n              onChange={ handlePassword }\n            />\n            <span className=\"password-name-error form__error\"></span>\n          </label>\n\n          <button\n            className=\"form__submit form__submit_type_sign\">Войти</button>\n        </form>\n    </section>\n  );\n}\n\nexport default withRouter(Login);\n","import { Redirect, Route } from \"react-router\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n\n    <Route>\n      {\n        () => props.isLoggedIn \n          ? <Component { ...props } /> \n          : <Redirect to=\"./signin\" />\n      }\n    </Route>\n\n    );\n}\n\nexport default ProtectedRoute;\n","import '../index.css';\nimport loadingImage from '../images/avatar-loader.gif';\nimport React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport ConfirmationPopup from './ConfirmationPopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Error from './Error';\nimport { Redirect, Route, Switch, withRouter } from 'react-router';\nimport Register from './Register';\nimport Login from './Login';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as userAuth from '../utils/userAuth';\n\nfunction App(props) {\n\n  const [userData, setUserData] = React.useState({\n    email: null\n  })\n\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpened, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isDeleteCardPopupOpened, setIsDeleteCardPopupOpened] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [loadingSpinner, setLoadingSpinner] = React.useState(true);\n  const [currentUser, setCurrentUser] = React.useState({\n    avatar: loadingImage,\n    name: 'Загрузка',\n    about: 'Загрузка'\n  });\n  const [infoTolltip, setInfoTooltip] = React.useState({\n    isOpen: false,\n    src: '',\n    title: '',\n  });\n\n  React.useEffect(() => {  \n    tockenCheck();\n    api.getUserInfo()\n      .then(data => setCurrentUser(data))\n      .catch(err => console.log('#####Error: user data; ', err));\n  }, []);\n\n  React.useEffect(() => {\n    api.getAllCards()\n      .then(data => {\n        setCards(data);\n        setLoadingSpinner(false);\n      })\n      .catch(err => console.log('Cards data error: ', err));\n  }, []);\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  }\n\n  function handleTooltip(isOpen, src, title) {\n    setInfoTooltip({\n      isOpen,\n      src,\n      title\n    })\n  }\n\n  function handleLoginStatus() {\n    setIsLoggedIn(!isLoggedIn);\n    console.log('LoginStatus changed: ', isLoggedIn)\n  }\n  \n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpened);\n  }\n\n  function handleDeleteCardClick(card) {\n    setIsDeleteCardPopupOpened(card);\n  }\n\n  function handleUpdateUser(userData) {\n    api.editUserInfo(userData)\n      .then(data => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch(err => console.log('#### Edit user failed ####', err));\n  }\n\n  function handleUpdateAvatar(avatarLink) {\n    api.changeAvatar(avatarLink) \n      .then(data => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch(err => console.log('#### Avatar update falied ####', err));\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsDeleteCardPopupOpened(false);\n    setSelectedCard(false);\n    setInfoTooltip({\n      isOpen: false,\n    }\n    )\n  }  \n\n  function handleDeleteConfirm(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards(state => {\n          return state.filter((c) => {\n            return c._id === card._id ? null : c;\n          })\n        });\n        closeAllPopups();\n      })\n      .catch(err => console.log('#### Delete card error ####', err));\n  }\n\n  function deleteCard() {\n    handleDeleteConfirm(isDeleteCardPopupOpened);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.handleCardLikeStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards(state => {\n          return state.map((c) => {\n            return c._id === card._id ? newCard : c;\n          });\n        });\n      })\n      .catch(err => console.log('#### Handle Like Error ####', err));\n  }\n\n  function handleAddPlaceSubmit(card) {\n    api.addNewCard(card)\n      .then(newCard => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => console.log('#### Add card failed ####', err));\n  }\n\n  function tockenCheck() {\n    if(localStorage.getItem('token')) {\n      const token = localStorage.getItem('token');\n      if(token) {\n        userAuth.getContent(token).then((res) => {\n          if(res) {\n            setIsLoggedIn(true);\n            console.log(res.data.email);\n            setUserData({email: res.data.email});\n            props.history.push('/');\n          }\n        });\n      }\n    }\n  }\n  \n  return (\n    <CurrentUserContext.Provider value={ currentUser }>\n      \n      <div className=\"page\">\n\n        <Header \n          isLoggedIn={ isLoggedIn }\n          handleLoginStatus={ handleLoginStatus }\n          userData={ userData }\n        />\n        \n          <Switch>  \n\n            <ProtectedRoute \n              exact path=\"/\"\n              isLoggedIn={ isLoggedIn }\n              cards={ cards }\n              loadingSpinner={ loadingSpinner }\n              onEditProfile={ handleEditProfileClick } \n              onAddPlace={ handleAddPlaceClick } \n              onEditAvatar={ handleEditAvatarClick } \n              onCardClick={ handleCardClick }\n              onCardLike={ handleCardLike }\n              onDeleteCardClick={ handleDeleteCardClick }      \n              setIsDeleteCardPopupOpened={ setIsDeleteCardPopupOpened }\n              component={ Main }\n            />\n\n            <Route path=\"/signup\">\n              <Register\n                handleTooltip={ handleTooltip }\n                infoTolltip={ infoTolltip }\n                onClose={ closeAllPopups }\n              />\n            </Route>\n\n            <Route path=\"/signin\">\n              {\n                isLoggedIn  \n                  ? <Redirect to=\"/\" />\n                  : <Login \n                      handleLoginStatus={ handleLoginStatus } \n                      handleTooltip={ handleTooltip }\n                      handleUserData={ setUserData }\n                      infoTolltip={ infoTolltip }\n                      onClose={ closeAllPopups }\n                    />\n              }\n            </Route>\n            \n            <Route path=\"*\">\n              <Error />\n            </Route>\n\n          </Switch>\n        \n          \n\n        <Footer />\n\n      </div>\n\n      <ImagePopup \n        card={ selectedCard }\n        onClose={ closeAllPopups }\n      />\n\n      <EditProfilePopup \n        isOpen={ isEditProfilePopupOpen }\n        onClose={ closeAllPopups }\n        onUpdateUser={ handleUpdateUser }\n      />\n\n      <EditAvatarPopup\n        isOpen={ isEditAvatarPopupOpened }\n        onClose={ closeAllPopups }\n        onUpdateAvatar={ handleUpdateAvatar }\n      />\n\n      <AddPlacePopup \n        isOpen={ isAddPlacePopupOpen }\n        onClose={ closeAllPopups }\n        onAddPlace={ handleAddPlaceSubmit }\n      />\n\n      <ConfirmationPopup\n        isOpen={ isDeleteCardPopupOpened }\n        onClose={ closeAllPopups }\n        onDeleteCard={ deleteCard }\n      />\n\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.querySelector('#root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}