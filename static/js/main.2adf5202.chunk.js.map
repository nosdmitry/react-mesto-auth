{"version":3,"sources":["images/avatar-loader.gif","images/reg_failed.svg","images/reg_confirm.svg","images/logo.svg","components/UserLinks.js","images/user_wrap_data.svg","components/NavBar.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Loader.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/ConfirmationPopup.js","utils/api.js","components/Error.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","utils/userAuth.js","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["UserLinks","userData","signOut","isMenuOpen","className","to","email","onClick","NavBar","isLoggedIn","location","handleMenuOpen","window","innerWidth","aria-label","pathname","Header","props","useLocation","href","target","src","logo","alt","CurrentUserContext","React","createContext","Card","card","openImage","onCardLike","onDeleteCardClick","currentUser","useContext","isOwner","_id","owner","cardLikeButtonClassName","likes","some","i","type","link","name","length","Loader","Main","onEditAvatar","style","backgroundImage","avatar","onEditProfile","about","onAddPlace","loadingSpinner","cards","map","onCardClick","Footer","PopupWithForm","isOpen","onClose","title","onSubmit","noValidate","children","submitName","EditProfilePopup","onUpdateUser","submitButtonName","useForm","register","errors","formState","handleSubmit","useState","setName","description","setDescription","useEffect","required","minLength","value","message","maxLength","placeholder","onChange","e","EditAvatarPopup","onUpdateAvatar","watch","id","console","log","htmlFor","userAvatar","AddPlacePopup","cardName","setCardName","cardLink","setCardLink","cardUrl","ImagePopup","ConfirmationPopup","onDeleteCard","preventDefault","api","options","this","_url","url","_headers","headers","_body","body","res","ok","json","Promise","reject","status","fetch","then","_onError","data","method","authorization","JSON","stringify","cardId","isLiked","fetchMethod","Error","withRouter","setEmail","password","setPassword","evt","onRegister","autoComplete","onLogin","ProtectedRoute","Component","component","BASE_URL","InfoTooltip","setIsMenuOpen","setIsLoggedIn","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpened","setIsEditAvatarPopupOpen","isDeleteCardPopupOpened","setIsDeleteCardPopupOpened","selectedCard","setSelectedCard","setCards","setLoadingSpinner","setSubmitButtonName","loadingImage","setCurrentUser","infoTolltip","setInfoTooltip","setUserData","handleTooltip","handleLoginStatus","changeSubmitButtonName","closeAllPopups","localStorage","getItem","token","statusText","userAuth","history","push","catch","err","tockenCheck","getUserInfo","getAllCards","Provider","removeItem","exact","path","handleCardLikeStatus","newCard","state","c","regConfirmImg","setTimeout","regFailedImg","handleUserData","setItem","editUserInfo","avatarLink","changeAvatar","addNewCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","querySelector"],"mappings":"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","file":"static/js/main.2adf5202.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/avatar-loader.7741db8b.gif\";","export default __webpack_public_path__ + \"static/media/reg_failed.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/reg_confirm.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import { Link } from \"react-router-dom\";\n\nfunction UserLinks({ userData, signOut, isMenuOpen }) {\n  return (\n    <>\n      <li className=\"navbar__item\">\n        <Link to=\"#\" className={`navbar__link ${\n          isMenuOpen ? 'navbar__link_place_wrap' : ''\n        }`}>\n          {userData.email}\n        </Link>\n      </li>\n      <li className=\"navbar__item\">\n        <Link to=\"/\" onClick={signOut} className={`navbar__link ${\n          isMenuOpen ? 'navbar__link_place_wrap' : ''\n        }`}>\n          Выйти\n          </Link>\n      </li>\n    </>\n  );\n}\n\nexport default UserLinks;\n","export default __webpack_public_path__ + \"static/media/user_wrap_data.a46d5c1c.svg\";","import { Link } from \"react-router-dom\";\nimport UserLinks from \"./UserLinks\";\nimport menuButtonOpenImg from '../images/user_wrap_data.svg';\nimport { useState } from \"react\";\n\nfunction NavBar({ \n  isLoggedIn, signOut, \n  userData, location, handleMenuOpen, isMenuOpen }) {\n\n\n  function showAuthLinks() {\n    if (location.pathname === '/signup') {\n      return (\n        <li className=\"navbar__item\">\n          <Link to=\"/signin\" className=\"navbar__link\">\n            Вход\n          </Link>\n        </li>\n      );\n    } else {\n      return (\n        <li className=\"navbar__item\">\n          <Link to=\"/signup\" className=\"navbar__link\">\n            Регистрация\n          </Link>\n        </li>\n      );\n    }\n  }\n\n  function showEmailAndExit() {\n    if(isLoggedIn && window.innerWidth < 768) {\n      return (\n        <>\n          <button \n            className={`\n              header__menu-button \n              ${isMenuOpen ? 'header__menu-button_type_opened' : 'header__menu-button_type_closed'}\n            `}\n            aria-label=\"menu button\"\n            onClick={ handleMenuOpen }\n          ></button>\n        </>\n      );\n    }\n    return (\n      <UserLinks \n        userData={ userData }\n        signOut={ signOut }\n        isMenuOpen={ isMenuOpen }\n      />\n    );\n  }\n\n  return (\n    <ul className=\"navbar\">\n      {\n        isLoggedIn ? showEmailAndExit() : showAuthLinks()\n      }\n    </ul>\n  );\n}\n\nexport default NavBar;\n","import logo from '../images/logo.svg';\nimport NavBar from './NavBar';\nimport { useLocation } from 'react-router-dom';\nimport UserLinks from './UserLinks';\n\nfunction Header(props) {\n\n  const location = useLocation();\n  \n  return (\n    <header className=\"header\">\n      \n      <div \n        className={`\n          user-data-wrap \n          ${!props.isMenuOpen ? 'user-data-wrap_visible_hidden' : '' }\n        `}> \n\n        <UserLinks \n          { ...props }\n        />\n\n      </div>\n\n      <a \n        href=\"./\" \n        className=\"header__logo-link\" \n        target=\"_self\">\n          <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\n      </a>\n\n      <NavBar \n        { ...props }\n        location={ location }\n      />  \n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, openImage, onCardLike, onDeleteCardClick }) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function openDeletePopup() {\n    onDeleteCardClick(card);\n  }\n\n  function handleCardLike() {\n    onCardLike(card);\n  }\n  \n  function handlePopup() {\n    openImage(card);\n  }\n\n  const isOwner = currentUser._id === card.owner._id;\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = !isLiked ? 'galery__heart' : 'galery__heart galery__heart_active';\n\n  return (\n    <article className=\"galery__card\">\n      <button \n        onClick={ openDeletePopup }\n        type=\"button\" \n        className={`galery__delete-card-button galery__delete-card-button${\n          isOwner ? '' : '_visible_hidden'\n        }`} \n        aria-label=\"Delete_card\"\n      ></button>\n      <img onClick={ handlePopup } src={ card.link } alt={ card.name } className=\"galery__img\" /> \n      <h2 className=\"galery__text\">{ card.name }</h2>\n      <div className=\"galery__likes-wrap\">\n        <button \n          onClick={ handleCardLike }\n          type=\"button\" \n          aria-label=\"Like\" \n          className={ cardLikeButtonClassName }\n        ></button>\n        <div className=\"galery__heart galery__heart_loading galery__heart_visible_hidden\"></div>\n        <span className=\"galery__likes-counter\">{ card.likes.length }</span>\n      </div> \n    </article>\n  );\n}\n\nexport default Card;","function Loader() {\n  return (\n    <div className=\"galery__card galery__card_loading\"></div>\n  );\n}\n\nexport default Loader;\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Card from './Card';\nimport Loader from './Loader';\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <button onClick={props.onEditAvatar}\n          className=\"profile__image profile__image\"\n          style={{ backgroundImage: `url(${ currentUser.avatar })` }}\n          aria-label=\"Аватар\">\n        </button>\n        <div className=\"profile__text-wrap\">\n          <div className=\"profile__title-wrap\">\n            <h1 className=\"profile__title\" aria-label=\"Имя\">{ currentUser.name }</h1>\n            <button\n              onClick={ props.onEditProfile }\n              type=\"button\"\n              aria-label=\"Edit_profile\"\n              className=\"profile__edit\">\n            </button>\n          </div>\n          <p className=\"profile__subtitle\" aria-label=\"Описание\">{ currentUser.about }</p>\n        </div>\n        <button\n          onClick={ props.onAddPlace }\n          type=\"button\"\n          aria-label=\"Add_img\"\n          className=\"profile__add-card-button\">\n        </button>\n      </section>\n\n      <section className=\"galery galery_margins\" aria-label=\"Галерея\">\n        <div className=\"galery__cards\">\n          {\n            props.loadingSpinner \n              ? (<Loader />)\n              : props.cards.map((card) => {\n                return (\n                    <Card \n                      key={ card._id }\n                      card={ card }\n                      openImage={ props.onCardClick }\n                      onCardLike={ props.onCardLike }\n                      onDeleteCardClick={ props.onDeleteCardClick }\n                    />\n                );\n              })\n          }\n        </div>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;","function PopupWithForm(props) {\n\n  return (\n    <div className={`popup popup_type_${ props.name } ${ props.isOpen ? 'popup_opened' : '' }`} >\n      <div className=\"popup__container\">\n      <button onClick={ props.onClose } type=\"button\" aria-label=\"Close_popup\" \n        className=\"popup__exit-button exit exit_button_profile-popup\">\n      </button>\n      <h3 className=\"popup__form-title\">{props.title}</h3>\n      <form \n        onSubmit={ props.onSubmit }\n        name={`popup_form_${props.name}`} \n        className=\"form popup__form\" \n        noValidate\n      >\n        { props.children }\n        <button \n          type=\"submit\" \n          name=\"submit-edit-profile\" \n          className=\"form__submit form__submit_type_popup\">{props.submitName}</button>\n      </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\n\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, submitButtonName }) {\n\n\n  \n  const { register, formState: { errors }, handleSubmit } = useForm();\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState(currentUser.name);\n  const [description, setDescription] = React.useState(currentUser.about);\n\n  function handleName(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmitButton() {\n    onUpdateUser({\n      name: name,\n      about: description\n    });\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm \n      name=\"profile-edit-form\" \n      title=\"Редактировать профиль\" \n      submitName={ submitButtonName }\n      isOpen={ isOpen }\n      onClose={ onClose }\n      onSubmit={ handleSubmit(() => {\n        handleSubmitButton();\n      })}\n    >\n      <label className=\"form__form-field\">\n        <input \n          type=\"text\" \n          { ...register('name', { \n            required: 'Поле не может быть пустым', \n            minLength: { \n              value: 2, \n              message: 'Имя не может быть короче двух символов'\n            },\n            maxLength: {\n              value: 40,\n              message: 'Описание слишком длинное. Сделайте короче 40 символов'\n            },\n          })\n          }\n          value={ name }\n          placeholder=\"Имя\"\n          className=\"form__input\" \n          onChange={ handleName }\n        />\n        { errors.name && (<span className=\"form__error\">{ errors.name.message }</span>) }\n      </label>\n      <label className=\"form__form-field\">\n        <input \n          type=\"text\" \n          { ...register('description', { \n            required: 'Поле не может быть пустым', \n            minLength: { \n              value: 2, \n              message: 'Имя не может быть короче двух символов' \n            },\n            maxLength: {\n              value: 200,\n              message: 'Описание слишком длинное. Сделайте короче 200 символов'\n            },\n          }) \n          }\n          value={ description }\n          minLength=\"2\" \n          maxLength=\"200\"\n          placeholder=\"Род деятельности\" \n          className=\"form__input\" \n          onChange={ handleDescription }\n        />\n        { errors.description && (<span className=\"form__error\">{ errors.description.message }</span>) }\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { useForm } from 'react-hook-form';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, submitButtonName }) {\n\n  const { register, formState: { errors }, handleSubmit, watch } = useForm();\n  \n  const link = watch('userAvatar');\n\n  function handleSubmitButton() {\n    console.log(link)\n    onUpdateAvatar({\n      avatar: link\n    });\n  }\n\n  return (\n    <PopupWithForm \n      id=\"userAvatar\"\n      name=\"change-avatar\"\n      title=\"Обновить аватар\" \n      submitName={ submitButtonName }\n      isOpen={ isOpen }\n      onClose={ onClose }\n      onSubmit={ handleSubmit(() => handleSubmitButton() ) }\n    >\n      <label htmlFor=\"userAvatar\" className=\"form__form-field\">\n        <input \n          id=\"userAvatar\" \n          type=\"url\"\n          { ...register('userAvatar', { \n            required: \"Введите URL адрес\",\n          }) \n          } \n          placeholder=\"Ссылка на картинку\"\n          className=\"form__input\" \n        />\n        { errors.userAvatar && (<span className=\"form__error\">{ errors.userAvatar.message }</span>) }\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, submitButtonName }) {\n\n  const [cardName, setCardName] = React.useState('');\n  const [cardLink, setCardLink] = React.useState('');\n  const { register, formState: { errors }, handleSubmit } = useForm();\n\n  function handleCardName(e) {\n    setCardName(e.target.value);\n  }\n\n  function handleCardLink(e) {\n    setCardLink(e.target.value);\n  }\n\n  function handleSubmitButton() {\n    onAddPlace({\n      name: cardName,\n      link: cardLink\n    });\n  }\n\n  return (\n    <PopupWithForm \n      name=\"cards-add-form\" \n      title=\"Новое место\" \n      submitName={ submitButtonName }\n      isOpen={ isOpen }\n      onClose={ onClose }\n      onSubmit={ handleSubmit(() => handleSubmitButton()) }\n    >\n      <label className=\"form__form-field\">\n        <input \n          id=\"place-name\" \n          type=\"text\" \n          placeholder=\"Название\"\n          className=\"form__input\" \n          { ...register('title', { \n            required: 'Поле не может быть пустым', \n            minLength: { \n              value: 2, \n              message: 'Название не может быть короче двух символов'\n            },\n            maxLength: {\n              value: 30,\n              message: 'Название должно быть короче 30 символов'\n            },\n            value: cardName\n          })\n          }\n          onChange={ handleCardName }\n        />\n        { errors.title && (<span className=\"form__error\">{ errors.title.message }</span>) }\n      </label>\n      <label className=\"form__form-field\">\n        <input \n          id=\"place-url\" \n          placeholder=\"Ссылка на картинку\"\n          className=\"form__input\" \n          type=\"url\" \n          { ...register('cardUrl', { \n            required: 'Введите URL адрес', \n            value: cardLink\n            })\n          }\n          onChange={ handleCardLink }\n          required\n        />\n        { errors.cardUrl && (<span className=\"form__error\">{ errors.cardUrl.message }</span>) }\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","function ImagePopup(props) {\n    return(\n      <div className={`popup galery galery_popup ${props.card ? 'popup_opened' : ''}`}>\n        <figure className=\"galery__popup-image-container\">\n          <button onClick={ props.onClose } type=\"button\" aria-label=\"Close_popup\" className=\"popup__exit-button galery__popup-exit\"></button>\n          <img src={ props.card.link } alt={ props.card.name } className=\"galery__fulsize-img\" />\n          <figcaption className=\"galery__popup-text\">{ props.card.name }</figcaption>\n        </figure>\n      </div>\n    );\n}\n\nexport default ImagePopup;\n","import PopupWithForm from './PopupWithForm';\n\nfunction ConfirmationPopup({ isOpen, onClose, onDeleteCard, submitButtonName }) {\n\n  function deleteCard(e) {\n    e.preventDefault();\n    onDeleteCard();\n  }\n\n  return (\n    <PopupWithForm \n      name=\"card-delete\" \n      title=\"Вы уверены?\" \n      submitName={ submitButtonName } \n      isOpen={ isOpen }\n      onClose={ onClose }\n      onSubmit={ deleteCard }\n    />\n  );\n}\n\nexport default ConfirmationPopup;\n","export class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n    this._body = options.body;\n  }\n\n  _onError(res, message) {\n    if(res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`${message}: ` + res.status);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}users/me`, {\n      headers: this._headers\n    })\n    .then(res => this._onError(res, 'Ошибка при обращении к серверу'))\n  }\n\n  editUserInfo(data) {\n    return fetch(`${this._url}users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._headers.authorization,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n      })\n      .then(res => this._onError(res, 'Ошибка при редактировании данных пользователя'))\n  }\n\n  getAllCards() {\n    return fetch(`${this._url}cards/`, {\n        headers: this._headers\n      })\n      .then(res => this._onError(res, 'Ошибка при получении данных карточек'))\n  }\n\n  addNewCard(data) {\n    return fetch(`${this._url}cards/`, {\n      method: 'POST',\n      headers: {\n        authorization: this._headers.authorization,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    })\n    .then(res => this._onError(res, 'Ошибка при добавлении новой карточки'))\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then(res => this._onError(res, 'Ошибка при удалении картчоки'))\n  }\n\n  handleCardLikeStatus(cardId, isLiked) {\n    console.log('hello from API!');\n    const fetchMethod = !isLiked ? 'DELETE' : 'PUT';\n    return fetch(`${this._url}cards/likes/${cardId}`, {\n      method: fetchMethod,\n      headers: this._headers\n    })\n    .then(res => this._onError(res, 'Ошибка при обработке лайка'))\n  }\n\n  changeAvatar(data) {\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-20/users/me/avatar', {\n      method: 'PATCH',\n      headers: {\n        authorization: this._headers.authorization,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    })\n    .then(res => this._onError(res, 'Не удалось изменить аватарку'))\n  }\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-20/',\n  headers: {\n    authorization: '036c4f02-47a4-4c62-a975-bbce507f165f'\n  }\n})\n\nexport default api;","function Error() {\n  return (\n    <h2 className=\"error\">404 Страница не найдена.</h2>\n  );\n}\n\nexport default Error;\n","import React, { useState } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\n\n\nfunction Register(props) {\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleEmail(evt) {\n    setEmail(evt.target.value);\n  }\n\n  function handlePassword(evt) {\n    setPassword(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onRegister(email, password);\n  }\n\n  return (\n    <section className=\"sign\">\n      <h3 className=\"sign__title\">Регистрация</h3>\n        <form className=\"form\" onSubmit={ handleSubmit }>\n          <label className=\"form__form-field\">\n            <input\n              className=\"\n                form__input \n                form__input_type_sign\"\n              placeholder=\"Email\"\n              onChange={ handleEmail }\n            />\n            <span className=\"email-name-error form__error\"></span>\n          </label>\n\n          <label className=\"form__form-field\">\n            <input\n              className=\"\n                form__input \n                form__input_type_sign \n                form__input_type_password\"\n              placeholder=\"Пароль\"\n              type=\"password\"\n              autoComplete=\"none\"\n              onChange={ handlePassword }\n            />\n            <span className=\"password-name-error form__error\"></span>\n          </label>\n\n          <button\n            className=\"form__submit form__submit_type_sign\">Зарегистрироваться</button>\n        </form>\n      <span className=\"sign__reg-question\">\n        Уже зарегистрированы?&nbsp;\n        <Link to=\"/signin\" className=\"sign__link\">Войти</Link>\n      </span>\n    </section>\n  );\n}\n\nexport default withRouter(Register);\n","import React, { useState } from \"react\";\nimport { withRouter } from \"react-router\";\n\nfunction Login(props) {\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleEmail(evt) {\n    setEmail(evt.target.value);\n  }\n\n  function handlePassword(evt) {\n    setPassword(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onLogin(email, password)\n  }\n\n  return (\n    <section className=\"sign\">\n      <h3 className=\"sign__title\">Вход</h3>\n\n        <form className=\"form\" onSubmit={ handleSubmit }>\n\n          <label className=\"form__form-field\">\n            <input\n              className=\"\n                form__input \n                form__input_type_sign\"\n              placeholder=\"Email\"\n              onChange={ handleEmail }\n            />\n            <span className=\"username-name-error form__error\"></span>\n          </label>\n\n          <label className=\"form__form-field\">\n            <input\n              className=\"\n                form__input \n                form__input_type_sign \n                form__input_type_password\"\n              placeholder=\"Пароль\"\n              type=\"password\"\n              autoComplete=\"none\"\n              onChange={ handlePassword }\n            />\n            <span className=\"password-name-error form__error\"></span>\n          </label>\n\n          <button\n            className=\"form__submit form__submit_type_sign\">Войти</button>\n        </form>\n    </section>\n  );\n}\n\nexport default withRouter(Login);\n","import { Redirect, Route } from \"react-router\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n\n    <Route>\n      {\n        () => props.isLoggedIn \n          ? <Component { ...props } /> \n          : <Redirect to=\"./signin\" />\n      }\n    </Route>\n\n    );\n}\n\nexport default ProtectedRoute;\n","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then(res => res.ok ? res.json() : Promise.reject(`### ERRROR: ${res.status}`))\n}\n\nexport const authorization = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then(res => res.ok ? res.json() : Promise.reject(`#### ERROR: ${res.statusText}`))\n}\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      \"Content-type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    }\n  })\n  .then(res => res.ok ? res.json() : Promise.reject(`### ERROR: ${res.statusText}`))\n}","function InfoTooltip({ isOpen, src, title, onClose }) {\n\n  return (\n    <div className={`popup ${ isOpen ? 'popup_opened' : '' }`} >\n      <div className=\"popup__container popup__container_place_registration\">\n        <button onClick={ onClose } type=\"button\" aria-label=\"Close_popup\" \n          className=\"popup__exit-button exit\">\n        </button>\n        <img className=\"popup__image\" src={ src } alt={ title } />\n        <h3 className=\"popup__form-title\">{ title }</h3>\n      </div>\n      \n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","import '../index.css';\nimport loadingImage from '../images/avatar-loader.gif';\nimport regFailedImg from \"../images/reg_failed.svg\";\nimport regConfirmImg from \"../images/reg_confirm.svg\";\nimport React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport ConfirmationPopup from './ConfirmationPopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Error from './Error';\nimport { Redirect, Route, Switch, withRouter } from 'react-router';\nimport Register from './Register';\nimport Login from './Login';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as userAuth from '../utils/userAuth';\nimport InfoTooltip from './InfoTooltip';\n\nfunction App(props) {\n\n  const [isMenuOpen, setIsMenuOpen] = React.useState(false);\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpened, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isDeleteCardPopupOpened, setIsDeleteCardPopupOpened] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [loadingSpinner, setLoadingSpinner] = React.useState(true);\n  const [submitButtonName, setSubmitButtonName] = React.useState('');\n  const [currentUser, setCurrentUser] = React.useState({\n    avatar: loadingImage,\n    name: 'Загрузка',\n    about: 'Загрузка'\n  });\n  const [infoTolltip, setInfoTooltip] = React.useState({\n    isOpen: false,\n    src: '',\n    title: '',\n  });\n  const [userData, setUserData] = React.useState({\n    email: null\n  })\n\n  React.useEffect(() => {  \n    tockenCheck();\n    api.getUserInfo()\n      .then(data => setCurrentUser(data))\n      .catch(err => console.log('#####Error: user data; ', err));\n  }, []);\n\n  React.useEffect(() => {\n    api.getAllCards()\n      .then(data => {\n        setCards(data);\n        setLoadingSpinner(false);\n      })\n      .catch(err => console.log('Cards data error: ', err));\n  }, []);\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  }\n\n  function handleTooltip(isOpen, src, title) {\n    setInfoTooltip({\n      isOpen,\n      src,\n      title\n    })\n  }\n\n  function handleLoginStatus() {\n    setIsLoggedIn(!isLoggedIn);\n    console.log('LoginStatus changed: ', isLoggedIn)\n  }\n  \n  function handleEditProfileClick() {\n    changeSubmitButtonName('Сохранить');\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  function handleAddPlaceClick() {\n    changeSubmitButtonName('Создать');\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  function handleEditAvatarClick() {\n    changeSubmitButtonName('Сохранить');\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpened);\n  }\n\n  function handleDeleteCardClick(card) {\n    changeSubmitButtonName('Удалить');\n    setIsDeleteCardPopupOpened(card);\n  }\n\n  function handleUpdateUser(userData) {\n    changeSubmitButtonName('Сохранение...')\n    api.editUserInfo(userData)\n      .then(data => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch(err => console.log('#### Edit user failed ####', err));\n  }\n\n  function handleUpdateAvatar(avatarLink) {\n    changeSubmitButtonName('Сохранение...');\n    api.changeAvatar(avatarLink) \n      .then(data => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch(err => console.log('#### Avatar update falied ####', err));\n  } \n\n  function deleteCard() {\n    handleDeleteConfirm(isDeleteCardPopupOpened);\n  }\n\n  function changeSubmitButtonName(name) {\n    setSubmitButtonName(name);\n  }\n\n  function handleMenuOpen() {\n    console.log('click', isMenuOpen)\n    setIsMenuOpen(!isMenuOpen);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsDeleteCardPopupOpened(false);\n    setSelectedCard(false);\n    setInfoTooltip({\n      isOpen: false,\n    }\n    )\n  } \n  \n  function handleDeleteConfirm(card) {\n    changeSubmitButtonName('Удаление...');\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards(state => {\n          return state.filter((c) => {\n            return c._id === card._id ? null : c;\n          })\n        });\n        closeAllPopups();\n      })\n      .catch(err => console.log('#### Delete card error ####', err));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.handleCardLikeStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards(state => {\n          return state.map((c) => {\n            return c._id === card._id ? newCard : c;\n          });\n        });\n      })\n      .catch(err => console.log('#### Handle Like Error ####', err));\n  }\n\n  function handleAddPlaceSubmit(card) {\n    changeSubmitButtonName('Добавление...');\n    api.addNewCard(card)\n      .then(newCard => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => console.log('#### Add card failed ####', err));\n  }\n\n  function handleAuthorization(email, password) {\n    userAuth.authorization(email, password)\n      .then((data) => {\n        localStorage.setItem('token', data.token);\n      })\n      .then(() => {\n        handleLoginStatus();\n        setUserData({ email: email });\n        props.history.push('/');\n      })\n      .catch((err) => {\n        handleTooltip(true, regFailedImg, \"Что-то пошло не так! Попробуйте ещё раз.\")\n        console.log(err);\n      })\n  }\n\n  function handleRegister(email, password) {\n    userAuth.register(email, password)\n      .then(res => {\n        if(res) {\n          handleTooltip(true, regConfirmImg, \"Вы успешно зарегистрировались!\");\n          setTimeout(() => {\n            closeAllPopups();\n            props.history.push('/signin');\n          }, 2000);\n          console.log('succsess');\n        } else {\n          console.log('failed!');\n        }\n      })\n      .catch(err => {\n        handleTooltip(true, regFailedImg, \"Что-то пошло не так! Попробуйте ещё раз.\")\n        console.log(err)\n      });\n  }\n\n  function tockenCheck() {\n    if(localStorage.getItem('token')) {\n      const token = localStorage.getItem('token');\n      if(token) {\n        userAuth.getContent(token).then((res) => {\n          if(res) {\n            setIsLoggedIn(true);\n            console.log(res.data.email);\n            setUserData({email: res.data.email});\n            props.history.push('/');\n          }\n        })\n        .catch(err => console.log(err));\n      }\n    }\n  }\n\n  function signOut() {\n    localStorage.removeItem('token');\n    handleLoginStatus();\n    setIsMenuOpen(false);\n  }\n\n  return (\n\n        <CurrentUserContext.Provider value={ currentUser }>\n      \n      <div className=\"page\">\n\n        <Header \n          isLoggedIn={ isLoggedIn }\n          signOut={ signOut }\n          userData={ userData }\n          onClose={ closeAllPopups }\n          isMenuOpen={ isMenuOpen }\n          handleMenuOpen={ handleMenuOpen }\n        />\n        \n          <Switch>  \n\n            <ProtectedRoute \n              exact path=\"/\"\n              isLoggedIn={ isLoggedIn }\n              cards={ cards }\n              loadingSpinner={ loadingSpinner }\n              onEditProfile={ handleEditProfileClick } \n              onAddPlace={ handleAddPlaceClick } \n              onEditAvatar={ handleEditAvatarClick } \n              onCardClick={ handleCardClick }\n              onCardLike={ handleCardLike }\n              onDeleteCardClick={ handleDeleteCardClick }      \n              setIsDeleteCardPopupOpened={ setIsDeleteCardPopupOpened }\n              component={ Main }\n            />\n\n            <Route path=\"/signup\">\n              <Register\n                handleTooltip={ handleTooltip }\n                infoTolltip={ infoTolltip }\n                onClose={ closeAllPopups }\n                onRegister={ handleRegister }\n              />\n            </Route>\n\n            <Route path=\"/signin\">\n              {\n                isLoggedIn  \n                  ? <Redirect to=\"/\" />\n                  : <Login \n                      handleLoginStatus={ handleLoginStatus } \n                      handleTooltip={ handleTooltip }\n                      handleUserData={ setUserData }\n                      infoTolltip={ infoTolltip }\n                      onClose={ closeAllPopups }\n                      onLogin={ handleAuthorization }\n                    />\n              }\n            </Route>\n            \n            <Route path=\"*\">\n              <Error />\n            </Route>\n\n          </Switch>\n\n        <Footer />\n\n      </div>\n\n      <ImagePopup \n        card={ selectedCard }\n        onClose={ closeAllPopups }\n      />\n\n      <EditProfilePopup \n        isOpen={ isEditProfilePopupOpen }\n        onClose={ closeAllPopups }\n        onUpdateUser={ handleUpdateUser }\n        submitButtonName={ submitButtonName }\n      />\n\n      <EditAvatarPopup\n        isOpen={ isEditAvatarPopupOpened }\n        onClose={ closeAllPopups }\n        onUpdateAvatar={ handleUpdateAvatar }\n        submitButtonName={ submitButtonName }\n      />\n\n      <AddPlacePopup \n        isOpen={ isAddPlacePopupOpen }\n        onClose={ closeAllPopups }\n        onAddPlace={ handleAddPlaceSubmit }\n        submitButtonName={ submitButtonName }\n      />\n\n      <ConfirmationPopup\n        isOpen={ isDeleteCardPopupOpened }\n        onClose={ closeAllPopups }\n        onDeleteCard={ deleteCard }\n        submitButtonName={ submitButtonName }\n      />\n\n      <InfoTooltip \n        { ...infoTolltip }\n        onClose={ closeAllPopups }\n      />\n\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.querySelector('#root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}