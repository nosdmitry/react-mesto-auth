{"version":3,"sources":["images/avatar-loader.gif","images/logo.svg","components/UserLinks.js","images/user_wrap_data.svg","components/NavBar.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Loader.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/ConfirmationPopup.js","utils/api.js","components/Error.js","utils/userAuth.js","images/reg_confirm.svg","images/reg_failed.svg","components/InfoTooltip.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["UserLinks","userData","signOut","className","to","email","onClick","NavBar","isLoggedIn","location","handleMenuOpen","isMenuOpen","aria-label","pathname","Header","props","useLocation","href","target","src","logo","alt","CurrentUserContext","React","createContext","Card","card","openImage","onCardLike","onDeleteCardClick","currentUser","useContext","isOwner","_id","owner","cardLikeButtonClassName","likes","some","i","type","link","name","length","Loader","Main","onEditAvatar","style","backgroundImage","avatar","onEditProfile","about","onAddPlace","loadingSpinner","cards","map","onCardClick","Footer","PopupWithForm","isOpen","onClose","title","onSubmit","noValidate","children","submitName","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","id","minLength","maxLength","placeholder","value","onChange","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","reset","ref","AddPlacePopup","cardName","setCardName","cardLink","setCardLink","ImagePopup","ConfirmationPopup","onDeleteCard","api","options","this","_url","url","_headers","headers","_body","body","res","message","ok","json","Promise","reject","status","fetch","then","_onError","data","method","authorization","JSON","stringify","cardId","isLiked","console","log","fetchMethod","Error","BASE_URL","InfoTooltip","handleCloseButton","styleList","withRouter","setEmail","password","setPassword","infoTolltip","evt","catch","err","userAuth","handleTooltip","regConfirmImg","setTimeout","history","push","regFailedImg","autoComplete","statusText","localStorage","setItem","token","handleLoginStatus","handleUserData","ProtectedRoute","Component","component","setUserData","setIsLoggedIn","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpened","setIsEditAvatarPopupOpen","isDeleteCardPopupOpened","setIsDeleteCardPopupOpened","selectedCard","setSelectedCard","setCards","setLoadingSpinner","loadingImage","setCurrentUser","setInfoTooltip","setIsMenuOpen","closeAllPopups","getItem","tockenCheck","getUserInfo","getAllCards","Provider","removeItem","exact","path","handleCardLikeStatus","newCard","state","c","editUserInfo","avatarLink","changeAvatar","addNewCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","querySelector"],"mappings":"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","file":"static/js/main.b6a30934.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/avatar-loader.7741db8b.gif\";","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import { Link } from \"react-router-dom\";\n\nfunction UserLinks({ userData, signOut }) {\n  return (\n    <>\n      <li className=\"navbar__item\">\n        <Link to=\"#\" className=\"navbar__link\">\n          {userData.email}\n        </Link>\n      </li>\n      <li className=\"navbar__item\">\n        <Link to=\"/\" onClick={signOut} className=\"navbar__link\">\n          Выйти\n          </Link>\n      </li>\n    </>\n  );\n}\n\nexport default UserLinks;\n","export default __webpack_public_path__ + \"static/media/user_wrap_data.a46d5c1c.svg\";","import { Link } from \"react-router-dom\";\nimport UserLinks from \"./UserLinks\";\nimport menuButtonOpenImg from '../images/user_wrap_data.svg';\nimport { useState } from \"react\";\n\nfunction NavBar({ \n  isLoggedIn, signOut, \n  userData, location, handleMenuOpen, isMenuOpen }) {\n\n\n  function showAuthLinks() {\n    if (location.pathname === '/signup') {\n      return (\n        <li className=\"navbar__item\">\n          <Link to=\"/signin\" className=\"navbar__link\">\n            Вход\n          </Link>\n        </li>\n      );\n    } else {\n      return (\n        <li className=\"navbar__item\">\n          <Link to=\"/signup\" className=\"navbar__link\">\n            Регистрация\n          </Link>\n        </li>\n      );\n    }\n  }\n\n  function showEmailAndExit() {\n    if(isLoggedIn) {\n      return (\n        <>\n          <button \n            className={`\n              header__menu-button \n              ${isMenuOpen ? 'header__menu-button_type_opened' : 'header__menu_button_type_closed'}\n            `}\n            aria-label=\"menu button\"\n            onClick={ handleMenuOpen }\n          ></button>\n        </>\n      );\n    }\n    return (\n      <UserLinks \n        userData={ userData }\n        signOut={ signOut }\n      />\n    );\n  }\n\n  return (\n    <ul className=\"navbar\">\n      {\n        isLoggedIn ? showEmailAndExit() : showAuthLinks()\n      }\n    </ul>\n  );\n}\n\nexport default NavBar;\n","import logo from '../images/logo.svg';\nimport NavBar from './NavBar';\nimport { useLocation } from 'react-router-dom';\nimport { useState } from 'react';\nimport UserLinks from './UserLinks';\n\nfunction Header(props) {\n\n  const location = useLocation();\n  \n\n\n  return (\n    <header className=\"header\">\n      \n      <div \n        className={`\n          user-data-wrap \n          ${!props.isMenuOpen ? 'user-data-wrap_visible_hidden' : '' }\n        `}> \n\n        <UserLinks \n          { ...props }\n        />\n\n      </div>\n\n      <a \n        href=\"./\" \n        className=\"header__logo-link\" \n        target=\"_self\">\n          <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\n      </a>\n\n      <NavBar \n        { ...props }\n        location={ location }\n      />  \n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, openImage, onCardLike, onDeleteCardClick }) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function openDeletePopup() {\n    onDeleteCardClick(card);\n  }\n\n  function handleCardLike() {\n    onCardLike(card);\n  }\n  \n  function handlePopup() {\n    openImage(card);\n  }\n\n  const isOwner = currentUser._id === card.owner._id;\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = !isLiked ? 'galery__heart' : 'galery__heart galery__heart_active';\n\n  return (\n    <article className=\"galery__card\">\n      <button \n        onClick={ openDeletePopup }\n        type=\"button\" \n        className={`galery__delete-card-button galery__delete-card-button${\n          isOwner ? '' : '_visible_hidden'\n        }`} \n        aria-label=\"Delete_card\"\n      ></button>\n      <img onClick={ handlePopup } src={ card.link } alt={ card.name } className=\"galery__img\" /> \n      <h2 className=\"galery__text\">{ card.name }</h2>\n      <div className=\"galery__likes-wrap\">\n        <button \n          onClick={ handleCardLike }\n          type=\"button\" \n          aria-label=\"Like\" \n          className={ cardLikeButtonClassName }\n        ></button>\n        <div className=\"galery__heart galery__heart_loading galery__heart_visible_hidden\"></div>\n        <span className=\"galery__likes-counter\">{ card.likes.length }</span>\n      </div> \n    </article>\n  );\n}\n\nexport default Card;","function Loader() {\n  return (\n    <div className=\"galery__card galery__card_loading\"></div>\n  );\n}\n\nexport default Loader;\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Card from './Card';\nimport Loader from './Loader';\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <button onClick={props.onEditAvatar}\n          className=\"profile__image profile__image\"\n          style={{ backgroundImage: `url(${ currentUser.avatar })` }}\n          aria-label=\"Аватар\">\n        </button>\n        <div className=\"profile__text-wrap\">\n          <div className=\"profile__title-wrap\">\n            <h1 className=\"profile__title\" aria-label=\"Имя\">{ currentUser.name }</h1>\n            <button\n              onClick={ props.onEditProfile }\n              type=\"button\"\n              aria-label=\"Edit_profile\"\n              className=\"profile__edit\">\n            </button>\n          </div>\n          <p className=\"profile__subtitle\" aria-label=\"Описание\">{ currentUser.about }</p>\n        </div>\n        <button\n          onClick={ props.onAddPlace }\n          type=\"button\"\n          aria-label=\"Add_img\"\n          className=\"profile__add-card-button\">\n        </button>\n      </section>\n\n      <section className=\"galery galery_margins\" aria-label=\"Галерея\">\n        <div className=\"galery__cards\">\n          {\n            props.loadingSpinner \n              ? (<Loader />)\n              : props.cards.map((card) => {\n                return (\n                    <Card \n                      key={ card._id }\n                      card={ card }\n                      openImage={ props.onCardClick }\n                      onCardLike={ props.onCardLike }\n                      onDeleteCardClick={ props.onDeleteCardClick }\n                    />\n                );\n              })\n          }\n        </div>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;","function PopupWithForm(props) {\n\n  return (\n    <div className={`popup popup_type_${ props.name } ${ props.isOpen ? 'popup_opened' : '' }`} >\n      <div className=\"popup__container\">\n      <button onClick={ props.onClose } type=\"button\" aria-label=\"Close_popup\" \n        className=\"popup__exit-button exit exit_button_profile-popup\">\n      </button>\n      <h3 className=\"popup__form-title\">{props.title}</h3>\n      <form \n        onSubmit={ props.onSubmit }\n        name={`popup_form_${props.name}`} \n        className=\"form popup__form\" \n        noValidate\n      >\n        { props.children }\n        <button \n          type=\"submit\" \n          name=\"submit-edit-profile\" \n          className=\"form__submit form__submit_type_popup\">{props.submitName}</button>\n      </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  \n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  function handleName(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name: name,\n      about: description\n    });\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm \n      name=\"profile-edit-form\" \n      title=\"Редактировать профиль\" \n      submitName=\"Сохранить\"\n      isOpen={ isOpen }\n      onClose={ onClose }\n      onSubmit={ handleSubmit }\n    >\n      <label className=\"form__form-field\">\n        <input \n          id=\"user-name\" \n          type=\"text\" \n          name=\"popup_name\" \n          minLength=\"2\" \n          maxLength=\"40\" \n          placeholder=\"Имя\"\n          className=\"form__input\" \n          value={ name }\n          onChange={ handleName }\n          required \n        />\n        <span className=\"user-name-error form__error\"></span>\n      </label>\n      <label className=\"form__form-field\">\n        <input \n          id=\"user-description\" \n          type=\"text\" \n          name=\"popup_description\" \n          minLength=\"2\" \n          maxLength=\"200\"\n          placeholder=\"Род деятельности\" \n          className=\"form__input\" \n          value={ description }\n          onChange={ handleDescription }\n          required \n        />\n        <span className=\"user-description-error form__error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n\n  let avatarRef = React.useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n    e.target.reset();\n  }\n\n  return (\n    <PopupWithForm \n      name=\"change-avatar\" \n      title=\"Обновить аватар\" \n      submitName=\"Сохранить\"\n      isOpen={ isOpen }\n      onClose={ onClose }\n      onSubmit={ handleSubmit }\n    >\n      <label className=\"form__form-field\">\n        <input \n          id=\"user-avatar\" \n          type=\"url\" \n          name=\"popup_description\" \n          placeholder=\"Ссылка на картинку\"\n          className=\"form__input\" \n          ref={ avatarRef }\n          required \n        />\n        <span className=\"user-avatar-error form__error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n\n  const [cardName, setCardName] = React.useState('');\n  const [cardLink, setCardLink] = React.useState('');\n\n  function handleCardName(e) {\n    setCardName(e.target.value);\n  }\n\n  function handleCardLink(e) {\n    setCardLink(e.target.value);\n  }\n\n  function handleSubmitClick(e) {\n    e.preventDefault();\n    onAddPlace({\n      name: cardName,\n      link: cardLink\n    });\n    setCardName('');\n    setCardLink('');\n  }\n\n  return (\n    <PopupWithForm \n      name=\"cards-add-form\" \n      title=\"Новое место\" \n      submitName=\"Создать\"\n      isOpen={ isOpen }\n      onClose={ onClose }\n      onSubmit={ handleSubmitClick }\n    >\n      <label className=\"form__form-field\">\n        <input \n          id=\"place-name\" \n          type=\"text\" \n          name=\"popup_name\" \n          minLength=\"2\" \n          maxLength=\"30\" \n          placeholder=\"Название\"\n          className=\"form__input\" \n          onChange={ handleCardName }\n          value={ cardName || '' }\n          required \n        />\n        <span className=\"place-name-error form__error\"></span>\n      </label>\n      <label className=\"form__form-field\">\n        <input \n          id=\"place-url\" \n          type=\"url\" \n          name=\"popup_description\" \n          placeholder=\"Ссылка на картинку\"\n          className=\"form__input\" \n          onChange={ handleCardLink }\n          value={ cardLink || '' }\n          required \n        />\n        <span className=\"place-url-error form__error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","function ImagePopup(props) {\n    return(\n      <div className={`popup galery galery_popup ${props.card ? 'popup_opened' : ''}`}>\n        <figure className=\"galery__popup-image-container\">\n          <button onClick={ props.onClose } type=\"button\" aria-label=\"Close_popup\" className=\"popup__exit-button galery__popup-exit\"></button>\n          <img src={ props.card.link } alt={ props.card.name } className=\"galery__fulsize-img\" />\n          <figcaption className=\"galery__popup-text\">{ props.card.name }</figcaption>\n        </figure>\n      </div>\n    );\n}\n\nexport default ImagePopup;\n","import PopupWithForm from './PopupWithForm';\n\nfunction ConfirmationPopup({ isOpen, onClose, onDeleteCard }) {\n\n  function deleteCard(e) {\n    e.preventDefault();\n    onDeleteCard();\n  }\n\n  return (\n    <PopupWithForm \n      name=\"card-delete\" \n      title=\"Вы уверены?\" \n      submitName=\"Удалить\" \n      isOpen={ isOpen }\n      onClose={ onClose }\n      onSubmit={ deleteCard }\n    />\n  );\n}\n\nexport default ConfirmationPopup;\n","export class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n    this._body = options.body;\n  }\n\n  _onError(res, message) {\n    if(res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`${message}: ` + res.status);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}users/me`, {\n      headers: this._headers\n    })\n    .then(res => this._onError(res, 'Ошибка при обращении к серверу'))\n  }\n\n  editUserInfo(data) {\n    return fetch(`${this._url}users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._headers.authorization,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n      })\n      .then(res => this._onError(res, 'Ошибка при редактировании данных пользователя'))\n  }\n\n  getAllCards() {\n    return fetch(`${this._url}cards/`, {\n        headers: this._headers\n      })\n      .then(res => this._onError(res, 'Ошибка при получении данных карточек'))\n  }\n\n  addNewCard(data) {\n    return fetch(`${this._url}cards/`, {\n      method: 'POST',\n      headers: {\n        authorization: this._headers.authorization,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    })\n    .then(res => this._onError(res, 'Ошибка при добавлении новой карточки'))\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then(res => this._onError(res, 'Ошибка при удалении картчоки'))\n  }\n\n  // addLike(cardId) {\n  //   return fetch(`${this._url}cards/likes/${cardId}`, {\n  //     method: 'PUT',\n  //     headers: this._headers\n  //   })\n  //   .then(res => this._onError(res, 'Ошибка при обработке лайка'))\n  // }\n\n  // removeLike(cardId) {\n  //   return fetch(`${this._url}cards/likes/${cardId}`, {\n  //     method: 'DELETE',\n  //     headers: this._headers\n  //   })\n  //   .then(res => this._onError(res, 'Ошибка при обработке лайка'))\n  // }\n\n  handleCardLikeStatus(cardId, isLiked) {\n    console.log('hello from API!');\n    const fetchMethod = !isLiked ? 'DELETE' : 'PUT';\n    return fetch(`${this._url}cards/likes/${cardId}`, {\n      method: fetchMethod,\n      headers: this._headers\n    })\n    .then(res => this._onError(res, 'Ошибка при обработке лайка'))\n  }\n\n  changeAvatar(data) {\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-20/users/me/avatar', {\n      method: 'PATCH',\n      headers: {\n        authorization: this._headers.authorization,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    })\n    .then(res => this._onError(res, 'Не удалось изменить аватарку'))\n  }\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-20/',\n  headers: {\n    authorization: '036c4f02-47a4-4c62-a975-bbce507f165f'\n  }\n})\n\nexport default api;","function Error() {\n  return (\n    <h2 className=\"error\">404 Страница не найдена.</h2>\n  );\n}\n\nexport default Error;\n","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then(res => res.ok ? res.json() : Promise.reject(`### ERRROR: ${res.status}`))\n    .catch(err => console.log(err))\n}\n\nexport const authorization = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then(res => res.ok ? res.json() : Promise.reject(`#### ERROR: ${res.statusText}`))\n    .then((data) => {\n      localStorage.setItem('token', data.token);\n    })\n}\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      \"Content-type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    }\n  })\n  .then(res => res.ok ? res.json() : Promise.reject(`### ERROR: ${res.statusText}`))\n  .catch(err => console.log(err));\n}","export default __webpack_public_path__ + \"static/media/reg_confirm.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/reg_failed.df8eddf6.svg\";","function InfoTooltip({ isOpen, src, title, handleCloseButton, type }) {\n\n  let styleList = '';\n\n  if(type === \"header\") {\n    styleList = 'popup__header-wrap';\n  }\n\n  return (\n    <div className={`popup ${ isOpen ? 'popup_opened' : '' } ${styleList}`} >\n      <div className=\"popup__container popup__container_place_registration\">\n        <button onClick={ handleCloseButton } type=\"button\" aria-label=\"Close_popup\" \n          className=\"popup__exit-button exit\">\n        </button>\n        <img className=\"popup__image\" src={ src } alt={ title } />\n        <h3 className=\"popup__form-title\">{ title }</h3>\n      </div>\n      \n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","import React, { useState } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport * as userAuth from \"../utils/userAuth\";\nimport regConfirmImg from \"../images/reg_confirm.svg\";\nimport regFailedImg from \"../images/reg_failed.svg\";\nimport InfoTooltip from \"./InfoTooltip\";\n\n\nfunction Register(props) {\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleEmail(evt) {\n    setEmail(evt.target.value);\n  }\n\n  function handlePassword(evt) {\n    setPassword(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    userAuth.register(email, password)\n      .then(res => {\n        if(res) {\n          props.handleTooltip(true, regConfirmImg, \"Вы успешно зарегистрировались!\");\n          setTimeout(() => {\n            props.onClose();\n            props.history.push('/signin');\n          }, 2000);\n        } else {\n          props.handleTooltip(true, regFailedImg, \"Что-то пошло не так! Попробуйте ещё раз.\")\n        }\n      });\n  }\n\n  return (\n    <section className=\"sign\">\n      <h3 className=\"sign__title\">Регистрация</h3>\n        {\n          props.infoTolltip.isOpen \n            ? <InfoTooltip \n                { ...props.infoTolltip }\n                handleCloseButton={ props.onClose }\n              />\n            : null\n        }\n        <form className=\"form\" onSubmit={ handleSubmit }>\n          <label className=\"form__form-field\">\n            <input\n              className=\"\n                form__input \n                form__input_type_sign\"\n              placeholder=\"Email\"\n              onChange={ handleEmail }\n            />\n            <span className=\"email-name-error form__error\"></span>\n          </label>\n\n          <label className=\"form__form-field\">\n            <input\n              className=\"\n                form__input \n                form__input_type_sign \n                form__input_type_password\"\n              placeholder=\"Пароль\"\n              type=\"password\"\n              autoComplete=\"none\"\n              onChange={ handlePassword }\n            />\n            <span className=\"password-name-error form__error\"></span>\n          </label>\n\n          <button\n            className=\"form__submit form__submit_type_sign\">Зарегистрироваться</button>\n        </form>\n      <span className=\"sign__reg-question\">\n        Уже зарегистрированы?&nbsp;\n        <Link to=\"/signin\" className=\"sign__link\">Войти</Link>\n      </span>\n    </section>\n  );\n}\n\nexport default withRouter(Register);\n","import React, { useState } from \"react\";\nimport * as userAuth from '../utils/userAuth';\nimport { withRouter } from \"react-router\";\nimport regFailedImg from \"../images/reg_failed.svg\";\nimport InfoTooltip from \"./InfoTooltip\";\n\nfunction Login(props) {\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleEmail(evt) {\n    setEmail(evt.target.value);\n  }\n\n  function handlePassword(evt) {\n    setPassword(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    userAuth.authorization(email, password)\n      .then(() => {\n        props.handleLoginStatus();\n        props.handleUserData({ email: email });\n        props.history.push('/');\n      })\n      .catch(() => {\n        props.handleTooltip(true, regFailedImg, \"Что-то пошло не так! Попробуйте ещё раз.\")\n      })\n  }\n\n  return (\n    <section className=\"sign\">\n      <h3 className=\"sign__title\">Вход</h3>\n      {\n          props.infoTolltip.isOpen \n            ? <InfoTooltip \n                { ...props.infoTolltip }\n                handleCloseButton={ props.onClose }\n              />\n            : null\n        }\n        <form className=\"form\" onSubmit={ handleSubmit }>\n\n          <label className=\"form__form-field\">\n            <input\n              className=\"\n                form__input \n                form__input_type_sign\"\n              placeholder=\"Email\"\n              onChange={ handleEmail }\n            />\n            <span className=\"username-name-error form__error\"></span>\n          </label>\n\n          <label className=\"form__form-field\">\n            <input\n              className=\"\n                form__input \n                form__input_type_sign \n                form__input_type_password\"\n              placeholder=\"Пароль\"\n              type=\"password\"\n              autoComplete=\"none\"\n              onChange={ handlePassword }\n            />\n            <span className=\"password-name-error form__error\"></span>\n          </label>\n\n          <button\n            className=\"form__submit form__submit_type_sign\">Войти</button>\n        </form>\n    </section>\n  );\n}\n\nexport default withRouter(Login);\n","import { Redirect, Route } from \"react-router\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n\n    <Route>\n      {\n        () => props.isLoggedIn \n          ? <Component { ...props } /> \n          : <Redirect to=\"./signin\" />\n      }\n    </Route>\n\n    );\n}\n\nexport default ProtectedRoute;\n","import '../index.css';\nimport loadingImage from '../images/avatar-loader.gif';\nimport React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport ConfirmationPopup from './ConfirmationPopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Error from './Error';\nimport { Redirect, Route, Switch, withRouter } from 'react-router';\nimport Register from './Register';\nimport Login from './Login';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as userAuth from '../utils/userAuth';\n\nfunction App(props) {\n\n  const [userData, setUserData] = React.useState({\n    email: null\n  })\n\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpened, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isDeleteCardPopupOpened, setIsDeleteCardPopupOpened] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [loadingSpinner, setLoadingSpinner] = React.useState(true);\n  const [currentUser, setCurrentUser] = React.useState({\n    avatar: loadingImage,\n    name: 'Загрузка',\n    about: 'Загрузка'\n  });\n  const [infoTolltip, setInfoTooltip] = React.useState({\n    isOpen: false,\n    src: '',\n    title: '',\n  });\n  const [isMenuOpen, setIsMenuOpen] = React.useState(false);\n\n\n\n  React.useEffect(() => {  \n    tockenCheck();\n    api.getUserInfo()\n      .then(data => setCurrentUser(data))\n      .catch(err => console.log('#####Error: user data; ', err));\n  }, []);\n\n  React.useEffect(() => {\n    api.getAllCards()\n      .then(data => {\n        setCards(data);\n        setLoadingSpinner(false);\n      })\n      .catch(err => console.log('Cards data error: ', err));\n  }, []);\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  }\n\n  function handleTooltip(isOpen, src, title) {\n    setInfoTooltip({\n      isOpen,\n      src,\n      title\n    })\n  }\n\n  function handleLoginStatus() {\n    setIsLoggedIn(!isLoggedIn);\n    console.log('LoginStatus changed: ', isLoggedIn)\n  }\n  \n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpened);\n  }\n\n  function handleDeleteCardClick(card) {\n    setIsDeleteCardPopupOpened(card);\n  }\n\n  function handleUpdateUser(userData) {\n    api.editUserInfo(userData)\n      .then(data => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch(err => console.log('#### Edit user failed ####', err));\n  }\n\n  function handleUpdateAvatar(avatarLink) {\n    api.changeAvatar(avatarLink) \n      .then(data => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch(err => console.log('#### Avatar update falied ####', err));\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsDeleteCardPopupOpened(false);\n    setSelectedCard(false);\n    setInfoTooltip({\n      isOpen: false,\n    }\n    )\n  }  \n\n  function handleDeleteConfirm(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards(state => {\n          return state.filter((c) => {\n            return c._id === card._id ? null : c;\n          })\n        });\n        closeAllPopups();\n      })\n      .catch(err => console.log('#### Delete card error ####', err));\n  }\n\n  function deleteCard() {\n    handleDeleteConfirm(isDeleteCardPopupOpened);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.handleCardLikeStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards(state => {\n          return state.map((c) => {\n            return c._id === card._id ? newCard : c;\n          });\n        });\n      })\n      .catch(err => console.log('#### Handle Like Error ####', err));\n  }\n\n  function handleAddPlaceSubmit(card) {\n    api.addNewCard(card)\n      .then(newCard => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => console.log('#### Add card failed ####', err));\n  }\n\n  function tockenCheck() {\n    if(localStorage.getItem('token')) {\n      const token = localStorage.getItem('token');\n      if(token) {\n        userAuth.getContent(token).then((res) => {\n          if(res) {\n            setIsLoggedIn(true);\n            console.log(res.data.email);\n            setUserData({email: res.data.email});\n            props.history.push('/');\n          }\n        });\n      }\n    }\n  }\n\n  function handleMenuOpen() {\n    console.log('click', isMenuOpen)\n    setIsMenuOpen(!isMenuOpen);\n  }\n\n  function signOut() {\n    localStorage.removeItem('token');\n    handleLoginStatus();\n    setIsMenuOpen(false);\n  }\n  \n  return (\n    <CurrentUserContext.Provider value={ currentUser }>\n      \n      <div className=\"page\">\n\n        <Header \n          isLoggedIn={ isLoggedIn }\n          signOut={ signOut }\n          userData={ userData }\n          onClose={ closeAllPopups }\n          isMenuOpen={ isMenuOpen }\n          handleMenuOpen={ handleMenuOpen }\n        />\n        \n          <Switch>  \n\n            <ProtectedRoute \n              exact path=\"/\"\n              isLoggedIn={ isLoggedIn }\n              cards={ cards }\n              loadingSpinner={ loadingSpinner }\n              onEditProfile={ handleEditProfileClick } \n              onAddPlace={ handleAddPlaceClick } \n              onEditAvatar={ handleEditAvatarClick } \n              onCardClick={ handleCardClick }\n              onCardLike={ handleCardLike }\n              onDeleteCardClick={ handleDeleteCardClick }      \n              setIsDeleteCardPopupOpened={ setIsDeleteCardPopupOpened }\n              component={ Main }\n            />\n\n            <Route path=\"/signup\">\n              <Register\n                handleTooltip={ handleTooltip }\n                infoTolltip={ infoTolltip }\n                onClose={ closeAllPopups }\n              />\n            </Route>\n\n            <Route path=\"/signin\">\n              {\n                isLoggedIn  \n                  ? <Redirect to=\"/\" />\n                  : <Login \n                      handleLoginStatus={ handleLoginStatus } \n                      handleTooltip={ handleTooltip }\n                      handleUserData={ setUserData }\n                      infoTolltip={ infoTolltip }\n                      onClose={ closeAllPopups }\n                    />\n              }\n            </Route>\n            \n            <Route path=\"*\">\n              <Error />\n            </Route>\n\n          </Switch>\n        \n          \n\n        <Footer />\n\n      </div>\n\n      <ImagePopup \n        card={ selectedCard }\n        onClose={ closeAllPopups }\n      />\n\n      <EditProfilePopup \n        isOpen={ isEditProfilePopupOpen }\n        onClose={ closeAllPopups }\n        onUpdateUser={ handleUpdateUser }\n      />\n\n      <EditAvatarPopup\n        isOpen={ isEditAvatarPopupOpened }\n        onClose={ closeAllPopups }\n        onUpdateAvatar={ handleUpdateAvatar }\n      />\n\n      <AddPlacePopup \n        isOpen={ isAddPlacePopupOpen }\n        onClose={ closeAllPopups }\n        onAddPlace={ handleAddPlaceSubmit }\n      />\n\n      <ConfirmationPopup\n        isOpen={ isDeleteCardPopupOpened }\n        onClose={ closeAllPopups }\n        onDeleteCard={ deleteCard }\n      />\n\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.querySelector('#root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}